# Migration `20200829122730-add-product`

This migration has been generated by Zane Helton at 8/29/2020, 8:27:30 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."User" ADD COLUMN "createdAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
ADD COLUMN "updatedAt" timestamp(3)   NOT NULL 

CREATE TABLE "public"."Product" (
"id" SERIAL,
"createdAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
"updatedAt" timestamp(3)   NOT NULL ,
"name" text   NOT NULL ,
"description" text   NOT NULL ,
"ownerId" integer   ,
PRIMARY KEY ("id")
)

ALTER TABLE "public"."Product" ADD FOREIGN KEY ("ownerId")REFERENCES "public"."User"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200829102722-just-user..20200829122730-add-product
--- datamodel.dml
+++ datamodel.dml
@@ -3,14 +3,27 @@
 }
 datasource db {
   provider = "postgres"
-  url = "***"
+  url = "***"
 }
 model User {
-  id            Int     @default(autoincrement()) @id
-  email         String  @unique
-  emailVerified Boolean @default(false)
-  username      String  @unique
+  id            Int       @default(autoincrement()) @id
+  createdAt     DateTime  @default(now())
+  updatedAt     DateTime  @updatedAt
+  email         String    @unique
+  emailVerified Boolean   @default(false)
+  username      String    @unique
   password      String
+  products      Product[]
 }
+
+model Product {
+  id          Int      @default(autoincrement()) @id
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @updatedAt
+  name        String
+  description String
+  owner       User?    @relation(fields: [ownerId], references: [id])
+  ownerId     Int?
+}
```


