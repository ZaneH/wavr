# Migration `20201008035453-add-favorites`

This migration has been generated by Zane Helton at 10/7/2020, 11:54:53 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Product" ADD COLUMN "userId" text   

ALTER TABLE "public"."Product" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201008011641-isverified-on-user..20201008035453-add-favorites
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgres"
-  url = "***"
+  url = "***"
 }
 enum AccountType {
   FREE
@@ -23,8 +23,9 @@
   displayName        String?
   email              String        @unique
   emailVerified      Boolean       @default(false)
   emailVerifyToken   String        @unique @default(cuid())
+  favorites          Product[]     @relation("Favorites")
   isAdmin            Boolean       @default(false)
   password           String
   passwordResetToken String        @unique @default(cuid())
   paypalEmail        String?
@@ -67,8 +68,10 @@
   file         File?         @relation(fields: [fileId], references: [id])
   fileId       String?
   promoCodes   PromoCode[]
   payouts      Payout[]
+  User         User?         @relation("Favorites", fields: [userId], references: [id])
+  userId       String?
 }
 model Transaction {
   id              String      @id @default(uuid())
```


