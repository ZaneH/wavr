# Migration `20200926231834-optional-product-on-code`

This migration has been generated by Zane Helton at 9/26/2020, 7:18:34 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."PromoCode" ALTER COLUMN "productId" DROP NOT NULL
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200926223337-add-user-to-promo..20200926231834-optional-product-on-code
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgres"
-  url = "***"
+  url = "***"
 }
 model User {
   id            String        @default(uuid()) @id
@@ -119,10 +119,10 @@
   affectsAll Boolean
   code       String    @unique
   expiresAt  DateTime?
   percentOff Int?
-  product    Product   @relation(fields: [productId], references: [id])
-  productId  String
+  product    Product?  @relation(fields: [productId], references: [id])
+  productId  String?
   useLimit   Int?
   uses       Int       @default(0)
   user       User      @relation(fields: [userId], references: [id])
   userId     String
```


