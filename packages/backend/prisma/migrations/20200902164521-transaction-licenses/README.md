# Migration `20200902164521-transaction-licenses`

This migration has been generated by Zane Helton at 9/2/2020, 12:45:21 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Transaction" ADD COLUMN "email" text   ,
ADD COLUMN "licenseKey" text   ,
ADD COLUMN "licenseRedeemed" boolean   NOT NULL ,
ALTER COLUMN "buyerId" DROP NOT NULL
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200902145523-multiple-products-in-transaction..20200902164521-transaction-licenses
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgres"
-  url = "***"
+  url = "***"
 }
 model User {
   id            String        @default(uuid()) @id
@@ -41,15 +41,18 @@
   images       Image[]
 }
 model Transaction {
-  id        String    @default(uuid()) @id
-  amount    Float     @default(0)
-  buyer     User      @relation(fields: [buyerId], references: [id])
-  buyerId   String
-  createdAt DateTime  @default(now())
-  products  Product[]
-  updatedAt DateTime  @updatedAt
+  id              String    @default(uuid()) @id
+  amount          Float     @default(0)
+  buyer           User?     @relation(fields: [buyerId], references: [id])
+  buyerId         String?
+  createdAt       DateTime  @default(now())
+  email           String?
+  licenseKey      String?
+  licenseRedeemed Boolean
+  products        Product[]
+  updatedAt       DateTime  @updatedAt
 }
 model Tag {
   id        String    @default(uuid()) @id
```


