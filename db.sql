--
-- PostgreSQL database dump
--

-- Dumped from database version 12.4 (Debian 12.4-1.pgdg100+1)
-- Dumped by pg_dump version 12.4 (Debian 12.4-1.pgdg100+1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: AccountType; Type: TYPE; Schema: public; Owner: zane
--

CREATE TYPE public."AccountType" AS ENUM (
    'FREE',
    'PRO',
    'PROPLUS'
);


ALTER TYPE public."AccountType" OWNER TO zane;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: File; Type: TABLE; Schema: public; Owner: zane
--

CREATE TABLE public."File" (
    id text NOT NULL,
    "createdAt" timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    secret text NOT NULL,
    url text NOT NULL,
    "isArchived" boolean DEFAULT false NOT NULL,
    name text NOT NULL
);


ALTER TABLE public."File" OWNER TO zane;

--
-- Name: Image; Type: TABLE; Schema: public; Owner: zane
--

CREATE TABLE public."Image" (
    id text NOT NULL,
    "createdAt" timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    secret text NOT NULL,
    url text NOT NULL,
    "productId" text,
    "isArchived" boolean DEFAULT false NOT NULL
);


ALTER TABLE public."Image" OWNER TO zane;

--
-- Name: Payout; Type: TABLE; Schema: public; Owner: zane
--

CREATE TABLE public."Payout" (
    id text NOT NULL,
    "createdAt" timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    amount numeric(65,30) DEFAULT 0 NOT NULL,
    "userId" text,
    "forPlatform" boolean DEFAULT false NOT NULL,
    "productId" text NOT NULL,
    "transactionId" text NOT NULL
);


ALTER TABLE public."Payout" OWNER TO zane;

--
-- Name: Product; Type: TABLE; Schema: public; Owner: zane
--

CREATE TABLE public."Product" (
    id text NOT NULL,
    "createdAt" timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    "updatedAt" timestamp(3) without time zone NOT NULL,
    name text NOT NULL,
    description text NOT NULL,
    "ownerId" text,
    amount numeric(65,30) DEFAULT 0 NOT NULL,
    "isArchived" boolean DEFAULT false NOT NULL,
    "fileId" text,
    "onSale" boolean DEFAULT false NOT NULL,
    "salePrice" numeric(65,30)
);


ALTER TABLE public."Product" OWNER TO zane;

--
-- Name: PromoCode; Type: TABLE; Schema: public; Owner: zane
--

CREATE TABLE public."PromoCode" (
    id text NOT NULL,
    "createdAt" timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    "isArchived" boolean DEFAULT false NOT NULL,
    code text NOT NULL,
    "productId" text,
    "useLimit" integer,
    uses integer DEFAULT 0 NOT NULL,
    "expiresAt" timestamp(3) without time zone,
    "affectsAll" boolean NOT NULL,
    "percentOff" integer NOT NULL,
    "userId" text NOT NULL
);


ALTER TABLE public."PromoCode" OWNER TO zane;

--
-- Name: Review; Type: TABLE; Schema: public; Owner: zane
--

CREATE TABLE public."Review" (
    id text NOT NULL,
    "createdAt" timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    "productId" text NOT NULL,
    stars integer NOT NULL,
    "authorId" text NOT NULL,
    "updatedAt" timestamp(3) without time zone NOT NULL,
    message text NOT NULL,
    "isArchived" boolean DEFAULT false NOT NULL
);


ALTER TABLE public."Review" OWNER TO zane;

--
-- Name: Tag; Type: TABLE; Schema: public; Owner: zane
--

CREATE TABLE public."Tag" (
    id text NOT NULL,
    "createdAt" timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    "creatorId" text NOT NULL,
    name text NOT NULL
);


ALTER TABLE public."Tag" OWNER TO zane;

--
-- Name: Transaction; Type: TABLE; Schema: public; Owner: zane
--

CREATE TABLE public."Transaction" (
    id text NOT NULL,
    amount numeric(65,30) DEFAULT 0 NOT NULL,
    "buyerId" text,
    "createdAt" timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    "updatedAt" timestamp(3) without time zone NOT NULL,
    email text,
    "licenseKey" text,
    "licenseRedeemed" boolean DEFAULT false NOT NULL,
    approved boolean DEFAULT false NOT NULL,
    "paypalPaymentId" text,
    "licenseKeyShown" integer DEFAULT 0 NOT NULL
);


ALTER TABLE public."Transaction" OWNER TO zane;

--
-- Name: User; Type: TABLE; Schema: public; Owner: zane
--

CREATE TABLE public."User" (
    id text NOT NULL,
    email text NOT NULL,
    "emailVerified" boolean DEFAULT false NOT NULL,
    username text NOT NULL,
    password text NOT NULL,
    "createdAt" timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    "updatedAt" timestamp(3) without time zone NOT NULL,
    "displayName" text,
    "emailOnSale" boolean DEFAULT true NOT NULL,
    "emailUpdates" boolean DEFAULT true NOT NULL,
    "avatarURL" text,
    "adTokens" integer DEFAULT 0 NOT NULL,
    "unpaidBalance" numeric(65,30) DEFAULT 0 NOT NULL,
    "paidBalance" numeric(65,30) DEFAULT 0 NOT NULL,
    "emailVerifyToken" text NOT NULL,
    "passwordResetToken" text NOT NULL,
    "paypalEmail" text,
    "isAdmin" boolean DEFAULT false NOT NULL,
    "accountType" public."AccountType" DEFAULT 'FREE'::public."AccountType" NOT NULL
);


ALTER TABLE public."User" OWNER TO zane;

--
-- Name: Withdraw; Type: TABLE; Schema: public; Owner: zane
--

CREATE TABLE public."Withdraw" (
    id text NOT NULL,
    approved boolean DEFAULT false NOT NULL,
    "createdAt" timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    "confirmToken" text NOT NULL,
    "userId" text NOT NULL
);


ALTER TABLE public."Withdraw" OWNER TO zane;

--
-- Name: _Migration; Type: TABLE; Schema: public; Owner: zane
--

CREATE TABLE public."_Migration" (
    revision integer NOT NULL,
    name text NOT NULL,
    datamodel text NOT NULL,
    status text NOT NULL,
    applied integer NOT NULL,
    rolled_back integer NOT NULL,
    datamodel_steps text NOT NULL,
    database_migration text NOT NULL,
    errors text NOT NULL,
    started_at timestamp(3) without time zone NOT NULL,
    finished_at timestamp(3) without time zone
);


ALTER TABLE public."_Migration" OWNER TO zane;

--
-- Name: _Migration_revision_seq; Type: SEQUENCE; Schema: public; Owner: zane
--

CREATE SEQUENCE public."_Migration_revision_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."_Migration_revision_seq" OWNER TO zane;

--
-- Name: _Migration_revision_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: zane
--

ALTER SEQUENCE public."_Migration_revision_seq" OWNED BY public."_Migration".revision;


--
-- Name: _ProductToTag; Type: TABLE; Schema: public; Owner: zane
--

CREATE TABLE public."_ProductToTag" (
    "A" text NOT NULL,
    "B" text NOT NULL
);


ALTER TABLE public."_ProductToTag" OWNER TO zane;

--
-- Name: _ProductToTransaction; Type: TABLE; Schema: public; Owner: zane
--

CREATE TABLE public."_ProductToTransaction" (
    "A" text NOT NULL,
    "B" text NOT NULL
);


ALTER TABLE public."_ProductToTransaction" OWNER TO zane;

--
-- Name: _PromoCodeToTransaction; Type: TABLE; Schema: public; Owner: zane
--

CREATE TABLE public."_PromoCodeToTransaction" (
    "A" text NOT NULL,
    "B" text NOT NULL
);


ALTER TABLE public."_PromoCodeToTransaction" OWNER TO zane;

--
-- Name: _Migration revision; Type: DEFAULT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."_Migration" ALTER COLUMN revision SET DEFAULT nextval('public."_Migration_revision_seq"'::regclass);


--
-- Data for Name: File; Type: TABLE DATA; Schema: public; Owner: zane
--

COPY public."File" (id, "createdAt", secret, url, "isArchived", name) FROM stdin;
64aca6a8-bccf-434c-81c6-b4cf4ad52534	2020-10-03 21:01:27.727	content/1601758887452-5bc7042c-a766-45e3-a25e-3da00b38239e.png	https://wavr.s3.us-east-2.amazonaws.com/content/1601758887452-5bc7042c-a766-45e3-a25e-3da00b38239e.png	f	redeem-key.png
\.


--
-- Data for Name: Image; Type: TABLE DATA; Schema: public; Owner: zane
--

COPY public."Image" (id, "createdAt", secret, url, "productId", "isArchived") FROM stdin;
fd71292e-711d-4f77-9f22-255d53dabe43	2020-09-02 06:20:07.298	1ea298e2-7da4-4c5f-ae2a-48bb376395a7	https://wavegrid.s3.amazonaws.com/1ea298e2-7da4-4c5f-ae2a-48bb376395a7	prod8	f
ba8cdc53-081d-4801-a858-77859104b392	2020-09-02 06:28:01.595	f3303cf2-4db8-4b0d-8682-68444da7dcf1	https://wavegrid.s3.us-east-2.amazonaws.com/f3303cf2-4db8-4b0d-8682-68444da7dcf1	prod7	f
e835e73e-0a22-4ce8-b744-42908a813c60	2020-09-02 08:50:55.541	2ff071ce-4cc9-413c-ad7b-63597e08a1c2	https://wavegrid.s3.amazonaws.com/2ff071ce-4cc9-413c-ad7b-63597e08a1c2	prod2	f
137de49c-34c0-4317-871f-cc98d5dbd341	2020-09-04 22:44:03.634	03377cb8-3a79-47be-9497-46b169f13dc5	https://wavegrid.s3.amazonaws.com/03377cb8-3a79-47be-9497-46b169f13dc5	prod6	t
1b3d9536-e301-4308-84c5-719943957408	2020-09-05 01:25:26.612	9bc93427-6841-455d-a408-dd6411f413be	https://wavegrid.s3.amazonaws.com/9bc93427-6841-455d-a408-dd6411f413be	prod6	t
64886fbc-24c0-4034-ba16-88388fe78ac3	2020-09-05 01:26:31.337	ca4e5b1e-88c9-4aee-8ce9-ad819a97afab	https://wavegrid.s3.us-east-2.amazonaws.com/ca4e5b1e-88c9-4aee-8ce9-ad819a97afab	prod6	t
3ce53d65-6b85-48e5-91de-022680ee3e54	2020-09-05 01:33:04.339	b4151d4b-a074-4efa-8d79-888c33aa2a87	https://wavegrid.s3.amazonaws.com/b4151d4b-a074-4efa-8d79-888c33aa2a87	prod6	t
c3cb168b-4f27-481c-8ff0-67f8af78307e	2020-09-05 01:35:30.604	a1c8e922-c3fc-4180-9c1b-cc1fbb183e8e	https://wavegrid.s3.amazonaws.com/a1c8e922-c3fc-4180-9c1b-cc1fbb183e8e	prod6	t
42a1de58-f3ea-41f4-8bc2-4f05b1c76c85	2020-09-05 01:43:14.822	84c6496d-6915-4abd-963e-76b77548d4f7	https://wavegrid.s3.amazonaws.com/84c6496d-6915-4abd-963e-76b77548d4f7	prod6	t
1e76f656-a4b5-4972-ac26-5e5de28a8d5d	2020-09-05 01:44:09.168	b46a91b2-691d-40a0-8b22-1c42a08b8d8e	https://wavegrid.s3.amazonaws.com/b46a91b2-691d-40a0-8b22-1c42a08b8d8e	prod6	t
5ebd3d2c-30bf-4f8e-8761-d1a554baa6d9	2020-09-05 01:47:57.936	6fe6f30e-64e1-49d7-a19f-ca0f4c759025	https://wavegrid.s3.amazonaws.com/6fe6f30e-64e1-49d7-a19f-ca0f4c759025	prod6	t
812c13d4-cf84-4870-a033-5d8510b8c3ca	2020-09-05 01:48:56.279	d1b00a51-e20f-406f-a2d7-01f664c6289e	https://wavegrid.s3.amazonaws.com/d1b00a51-e20f-406f-a2d7-01f664c6289e	prod6	t
07f54092-8709-4648-a18a-5027af52e953	2020-09-05 01:49:49.647	04272777-fb29-4792-bc24-2a047f1d8eef	https://wavegrid.s3.amazonaws.com/04272777-fb29-4792-bc24-2a047f1d8eef	prod6	t
bc72e9c8-d110-4330-8249-0da7b31e1577	2020-09-05 02:05:31.843	6160b037-8a77-419c-acc5-4535458b1a88	https://wavegrid.s3.us-east-2.amazonaws.com/6160b037-8a77-419c-acc5-4535458b1a88	prod6	f
3beb1f64-55da-4a31-bcaf-b54b4afbb039	2020-09-05 02:04:56.919	4d7e659b-0d4b-4442-8627-e3f44da5db45	https://wavegrid.s3.amazonaws.com/4d7e659b-0d4b-4442-8627-e3f44da5db45	prod6	t
0adfd475-767c-4836-ba78-b0dbb0e1d297	2020-10-06 02:43:52.299	image/1601952232074-5bc7042c-a766-45e3-a25e-3da00b38239e.png	https://wavr.s3.us-east-2.amazonaws.com/image/1601952232074-5bc7042c-a766-45e3-a25e-3da00b38239e.png	df36c1c9-65b0-40b6-a640-1599f3ce48c5	f
\.


--
-- Data for Name: Payout; Type: TABLE DATA; Schema: public; Owner: zane
--

COPY public."Payout" (id, "createdAt", amount, "userId", "forPlatform", "productId", "transactionId") FROM stdin;
54055915-b248-4b5a-ba51-5e925ee0b5b3	2020-10-06 00:08:04.681	0.104999999999999980000000000000	\N	t	74b8e376-199f-40e7-bbd9-6be85c64a3a3	21d63637-1419-4f8b-bbfb-89bd4244d41e
dd6bb17c-4a59-4ab6-be16-51d6423df5bb	2020-10-06 00:08:04.689	9.305000000000000000000000000000	5bc7042c-a766-45e3-a25e-3da00b38239e	f	74b8e376-199f-40e7-bbd9-6be85c64a3a3	21d63637-1419-4f8b-bbfb-89bd4244d41e
ab0de916-3b73-434a-9fb3-db605d602007	2020-10-06 03:19:46.903	0.104999999999999980000000000000	\N	t	prod1	0a2f3108-b363-4ab6-a243-93cba69fdccb
19d69f0f-fb6a-4467-9720-ee30f0669538	2020-10-06 03:19:46.929	9.305000000000000000000000000000	5bc7042c-a766-45e3-a25e-3da00b38239e	f	prod1	0a2f3108-b363-4ab6-a243-93cba69fdccb
1dd1701a-3910-4a21-ae4f-55f1b503f638	2020-10-06 03:33:35.086	0.104999999999999980000000000000	\N	t	df36c1c9-65b0-40b6-a640-1599f3ce48c5	5f3201e6-e6ad-461e-8c1b-5652d2cb0441
998d2e13-ccc3-4e76-8700-3a0525170a8a	2020-10-06 03:33:35.093	9.305000000000000000000000000000	5bc7042c-a766-45e3-a25e-3da00b38239e	f	df36c1c9-65b0-40b6-a640-1599f3ce48c5	5f3201e6-e6ad-461e-8c1b-5652d2cb0441
\.


--
-- Data for Name: Product; Type: TABLE DATA; Schema: public; Owner: zane
--

COPY public."Product" (id, "createdAt", "updatedAt", name, description, "ownerId", amount, "isArchived", "fileId", "onSale", "salePrice") FROM stdin;
prod7	2020-09-01 14:35:29.841	2020-10-03 21:19:41.647	Ye Drum Kit	Seed data for testing	5bc7042c-a766-45e3-a25e-3da00b38239e	5.000000000000000000000000000000	f	\N	f	0.000000000000000000000000000000
df36c1c9-65b0-40b6-a640-1599f3ce48c5	2020-09-04 22:09:28.851	2020-10-06 02:43:54.041	NOT ZANES		5bc7042c-a766-45e3-a25e-3da00b38239e	10.000000000000000000000000000000	f	\N	f	0.000000000000000000000000000000
prod6	2020-09-01 14:35:27.841	2020-10-06 02:51:13.722	New name!	Seed data for testing	5bc7042c-a766-45e3-a25e-3da00b38239e	100.000000000000000000000000000000	f	64aca6a8-bccf-434c-81c6-b4cf4ad52534	f	0.000000000000000000000000000000
prod1	2020-09-01 14:35:21.841	2020-09-01 14:35:21.841	Trap Toolkit	Seed data for testing	5bc7042c-a766-45e3-a25e-3da00b38239e	10.000000000000000000000000000000	f	\N	f	\N
74b8e376-199f-40e7-bbd9-6be85c64a3a3	2020-09-01 17:54:25.773	2020-09-02 07:48:47.073	Prince Korn Trap Pack	Buy this and you'll live forever	5bc7042c-a766-45e3-a25e-3da00b38239e	10.000000000000000000000000000000	f	\N	f	\N
prod8	2020-09-01 14:35:31.841	2020-09-02 06:59:11.396	Burger Bank (Synth1)	Seed data for testing	5bc7042c-a766-45e3-a25e-3da00b38239e	10.000000000000000000000000000000	f	\N	f	\N
prod4	2020-09-01 14:35:26.841	2020-09-02 07:49:00.98	2messi Drum Kit	Seed data for testing	5bc7042c-a766-45e3-a25e-3da00b38239e	2.000000000000000000000000000000	f	\N	f	\N
prod5	2020-09-01 14:35:25.841	2020-09-02 07:48:53.442	Uzi ElectraX Bank	Seed data for testing	5bc7042c-a766-45e3-a25e-3da00b38239e	777.000000000000000000000000000000	f	\N	f	\N
prod3	2020-09-01 14:35:24.841	2020-09-01 14:35:21.841	Omni Bank	Seed data for testing	5bc7042c-a766-45e3-a25e-3da00b38239e	20.000000000000000000000000000000	f	\N	f	\N
prod2	2020-09-01 14:35:23.841	2020-09-02 08:50:57.18	Osean VFX Kit	Seed data for testing	5bc7042c-a766-45e3-a25e-3da00b38239e	20.000000000000000000000000000000	f	\N	f	\N
prod10	2020-09-01 14:35:22.841	2020-09-05 03:14:48.791	Piano One Shots	Seed data for testing	5bc7042c-a766-45e3-a25e-3da00b38239e	10.000000000000000000000000000000	f	\N	f	\N
prod9	2020-09-01 14:35:32.841	2020-09-05 03:17:00.642	Kyle Beats 1000 Hi Hats	Seed data for testing	5bc7042c-a766-45e3-a25e-3da00b38239e	7.000000000000000000000000000000	f	\N	f	\N
\.


--
-- Data for Name: PromoCode; Type: TABLE DATA; Schema: public; Owner: zane
--

COPY public."PromoCode" (id, "createdAt", "isArchived", code, "productId", "useLimit", uses, "expiresAt", "affectsAll", "percentOff", "userId") FROM stdin;
7475eb41-8b47-47ec-8961-cc2e90d7f0dd	2020-10-03 21:35:03.649	f	TACOS	\N	\N	0	\N	t	100	5bc7042c-a766-45e3-a25e-3da00b38239e
\.


--
-- Data for Name: Review; Type: TABLE DATA; Schema: public; Owner: zane
--

COPY public."Review" (id, "createdAt", "productId", stars, "authorId", "updatedAt", message, "isArchived") FROM stdin;
ebb9dc56-ccae-46f6-a4c3-2402553abf7a	2020-10-06 03:36:36.642	df36c1c9-65b0-40b6-a640-1599f3ce48c5	5	02c077cd-3c57-4c3c-b853-c7719b3c7759	2020-10-06 03:36:36.643	Great stuff!	f
\.


--
-- Data for Name: Tag; Type: TABLE DATA; Schema: public; Owner: zane
--

COPY public."Tag" (id, "createdAt", "creatorId", name) FROM stdin;
one	2020-09-01 14:59:37	5bc7042c-a766-45e3-a25e-3da00b38239e	Graphic Packs
two	2020-09-01 14:59:37	5bc7042c-a766-45e3-a25e-3da00b38239e	VFX Packs
three	2020-09-01 14:59:37	5bc7042c-a766-45e3-a25e-3da00b38239e	Loop Packs
four	2020-09-01 14:59:37	5bc7042c-a766-45e3-a25e-3da00b38239e	Trap
five	2020-09-01 14:59:37	5bc7042c-a766-45e3-a25e-3da00b38239e	Melodic
six	2020-09-01 14:59:37	5bc7042c-a766-45e3-a25e-3da00b38239e	MIDI
seven	2020-09-01 14:59:37	5bc7042c-a766-45e3-a25e-3da00b38239e	VST Presets
eight	2020-09-01 14:59:37	5bc7042c-a766-45e3-a25e-3da00b38239e	Drum Kits
nine	2020-09-01 14:59:37	5bc7042c-a766-45e3-a25e-3da00b38239e	One Shots
\.


--
-- Data for Name: Transaction; Type: TABLE DATA; Schema: public; Owner: zane
--

COPY public."Transaction" (id, amount, "buyerId", "createdAt", "updatedAt", email, "licenseKey", "licenseRedeemed", approved, "paypalPaymentId", "licenseKeyShown") FROM stdin;
351b8f74-8896-4754-ad8b-3e6fffcb3c8f	100.000000000000000000000000000000	\N	2020-09-05 15:31:00.199	2020-09-05 15:59:03.863	\N	754fd491-952a-4a4b-bb41-31d1f0612214	f	f	36B813100H4855038	2
4c3c89ca-5775-473b-9409-cc7807725044	10.000000000000000000000000000000	\N	2020-10-03 06:18:27.2	2020-10-03 06:18:27.541	sb-jmj8a3108234@personal.example.com	ckftacaqu0000bdd2bgxt2owj	f	t	20N61850TC874693J	1
be75dfa7-657b-4322-a12e-7edb7efedc8d	0.000000000000000000000000000000	\N	2020-10-03 18:09:33.338	2020-10-03 18:09:33.819	\N	ckftzqt1t0000ked268bt8q3u	f	t	\N	1
f4801bdc-408f-4605-b5e6-3466d4385614	0.000000000000000000000000000000	\N	2020-10-03 18:24:56.875	2020-10-03 18:24:57.123	\N	ckfu0alnn0000ond2aww99oy2	f	t	\N	1
e450548a-641f-4e6b-8a87-4ce36bbadce0	0.000000000000000000000000000000	\N	2020-10-03 19:08:35.659	2020-10-03 19:08:35.899	\N	ckfu1uqbj0000e1d20c0rg3aq	f	t	\N	1
b383074c-fd13-43bb-9962-e1a153cec72f	0.000000000000000000000000000000	\N	2020-10-03 21:35:19.011	2020-10-03 21:35:19.232	\N	ckfu73f170000thd28lht5kov	f	t	\N	1
88bb1149-681c-4fe7-a6bb-098743bcd903	0.000000000000000000000000000000	\N	2020-10-06 00:01:18.109	2020-10-06 00:01:18.34	\N	ckfx76uxe00004jd25r1l567e	f	t	\N	1
3883b87f-c285-44e4-a4a7-af996b35349c	10.000000000000000000000000000000	\N	2020-10-06 00:01:51.496	2020-10-06 00:01:51.735	sb-jmj8a3108234@personal.example.com	ckfx77jqv00014jd29xbi0nm2	f	t	1KY88867XC651903V	1
21d63637-1419-4f8b-bbfb-89bd4244d41e	10.000000000000000000000000000000	\N	2020-10-06 00:08:04.669	2020-10-06 00:08:04.945	sb-jmj8a3108234@personal.example.com	ckfx7fjqe0000kfd2ciwhh33v	f	t	5UE86325RN799852S	1
0a2f3108-b363-4ab6-a243-93cba69fdccb	10.000000000000000000000000000000	02c077cd-3c57-4c3c-b853-c7719b3c7759	2020-10-06 03:19:46.876	2020-10-06 03:19:46.876	zanew.helton@gmail.com	ckfxea2sy0000bfd2co9c4bob	t	t	9FH966634G945444P	0
5f3201e6-e6ad-461e-8c1b-5652d2cb0441	10.000000000000000000000000000000	02c077cd-3c57-4c3c-b853-c7719b3c7759	2020-10-06 03:33:35.06	2020-10-06 04:05:34.21	zanew.helton@gmail.com	ckfxertyc000057d28qkk6wmo	t	t	1NS70467P9871221N	3
\.


--
-- Data for Name: User; Type: TABLE DATA; Schema: public; Owner: zane
--

COPY public."User" (id, email, "emailVerified", username, password, "createdAt", "updatedAt", "displayName", "emailOnSale", "emailUpdates", "avatarURL", "adTokens", "unpaidBalance", "paidBalance", "emailVerifyToken", "passwordResetToken", "paypalEmail", "isAdmin", "accountType") FROM stdin;
5bc7042c-a766-45e3-a25e-3da00b38239e	zane99@me.com	f	zaneh	$2a$10$la/BZEkEoHhHygJiIYrPsOKx1z3LTmM8DFyoprDl4HHoSyxlWYr1O	2020-10-03 01:10:03.005	2020-10-06 03:33:35.101	\N	t	t	\N	0	48.400000000000006000000000000000	0.000000000000000000000000000000	ckfszbpq50002o4d2l398np15	ckfszbpq50003o4d2vfxie2xu	\N	f	FREE
02c077cd-3c57-4c3c-b853-c7719b3c7759	zanew.helton@gmail.com	f	ZaneH	$2a$10$r1Ja4pPT6b9uC.gaYDuthuInRSIaLfORYXDC3EcZuHY3W8LnL2thi	2020-10-06 02:48:14.973	2020-10-06 04:02:17.648	Donald Trump	t	t	\N	0	0.000000000000000000000000000000	0.000000000000000000000000000000	ckfxd5jzx0001z1d2tcw183bn	ckfxd5jzx0000z1d20pz8kti4	zane99@me.com	f	FREE
\.


--
-- Data for Name: Withdraw; Type: TABLE DATA; Schema: public; Owner: zane
--

COPY public."Withdraw" (id, approved, "createdAt", "confirmToken", "userId") FROM stdin;
82160fab-c12f-4c5e-aa8c-22a4f12c9ecc	f	2020-10-03 21:38:24.179	ckfu77dwy0000ijd2c7jqc5u1	5bc7042c-a766-45e3-a25e-3da00b38239e
\.


--
-- Data for Name: _Migration; Type: TABLE DATA; Schema: public; Owner: zane
--

COPY public."_Migration" (revision, name, datamodel, status, applied, rolled_back, datamodel_steps, database_migration, errors, started_at, finished_at) FROM stdin;
1	20200829102722-just-user	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int     @default(autoincrement()) @id\n  email         String  @unique\n  emailVerified Boolean @default(false)\n  username      String  @unique\n  password      String\n}\n	MigrationSuccess	3	0	[{"tag":"CreateSource","source":"db"},{"tag":"CreateArgument","location":{"tag":"Source","source":"db"},"argument":"provider","value":"\\"postgres\\""},{"tag":"CreateArgument","location":{"tag":"Source","source":"db"},"argument":"url","value":"\\"***\\""},{"tag":"CreateModel","model":"User"},{"tag":"CreateField","model":"User","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"id"},"directive":"id"}},{"tag":"CreateField","model":"User","field":"email","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"email"},"directive":"unique"}},{"tag":"CreateField","model":"User","field":"emailVerified","type":"Boolean","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"emailVerified"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"emailVerified"},"directive":"default"},"argument":"","value":"false"},{"tag":"CreateField","model":"User","field":"username","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"username"},"directive":"unique"}},{"tag":"CreateField","model":"User","field":"password","type":"String","arity":"Required"}]	{"before":{"tables":[{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}],"enums":[],"sequences":[]},"steps":[{"CreateTable":{"table":{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}}},{"CreateIndex":{"table":"User","index":{"name":"User.email_unique","columns":["email"],"tpe":"unique"},"caused_by_create_table":true}},{"CreateIndex":{"table":"User","index":{"name":"User.username_unique","columns":["username"],"tpe":"unique"},"caused_by_create_table":true}}]}	[]	2020-08-29 10:27:34.748	2020-08-29 10:27:34.783
12	20200831122826-tag-deconnection	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int           @default(autoincrement()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n}\n\nmodel Product {\n  id           Int           @default(autoincrement()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      Int?\n  transactions Transaction[]\n  tags         Tag[]\n}\n\nmodel Transaction {\n  id        Int      @default(autoincrement()) @id\n  amount    Float    @default(0)\n  buyer     User     @relation(fields: [buyerId], references: [id])\n  buyerId   Int\n  createdAt DateTime @default(now())\n  product   Product? @relation(fields: [productId], references: [id])\n  productId Int?\n}\n\nmodel Tag {\n  id        Int       @default(autoincrement()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId Int\n  name      String\n  products  Product[]\n}\n	MigrationSuccess	7	0	[{"tag":"CreateField","model":"Tag","field":"products","type":"Product","arity":"List"},{"tag":"DeleteField","model":"Tag","field":"product"},{"tag":"DeleteField","model":"Tag","field":"productId"}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Product_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Product_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Tag_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Tag_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Transaction_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Transaction_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1},{"name":"Product_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"DropForeignKey":{"table":"Tag","constraint_name":"Tag_productId_fkey"}},{"AlterTable":{"table":{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},"changes":[{"DropColumn":{"name":"productId"}}]}},{"CreateTable":{"table":{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateIndex":{"table":"_ProductToTag","index":{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},"caused_by_create_table":true}},{"CreateIndex":{"table":"_ProductToTag","index":{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"},"caused_by_create_table":true}},{"AddForeignKey":{"table":"_ProductToTag","foreign_key":{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"_ProductToTag","foreign_key":{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}}}]}	[]	2020-08-31 12:28:30.982	2020-08-31 12:28:31.097
3	20200829123716-private-products	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int       @default(autoincrement()) @id\n  email         String    @unique\n  emailVerified Boolean   @default(false)\n  username      String    @unique\n  password      String\n  createdAt     DateTime  @default(now())\n  updatedAt     DateTime  @updatedAt\n  products      Product[]\n}\n\nmodel Product {\n  id          Int      @default(autoincrement()) @id\n  createdAt   DateTime @default(now())\n  updatedAt   DateTime @updatedAt\n  name        String\n  description String\n  owner       User?    @relation(fields: [ownerId], references: [id])\n  ownerId     Int?\n  private     Boolean  @default(false)\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"Product","field":"private","type":"Boolean","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Product","field":"private"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Product","field":"private"},"directive":"default"},"argument":"","value":"false"}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Product_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Product_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1},{"name":"Product_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"private","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"private","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"AddColumn":{"column":{"name":"private","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}}}]}}]}	[]	2020-08-29 12:37:22.084	2020-08-29 12:37:22.1
2	20200829122730-add-product	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int       @default(autoincrement()) @id\n  email         String    @unique\n  emailVerified Boolean   @default(false)\n  username      String    @unique\n  password      String\n  createdAt     DateTime  @default(now())\n  updatedAt     DateTime  @updatedAt\n  products      Product[]\n}\n\nmodel Product {\n  id          Int      @default(autoincrement()) @id\n  createdAt   DateTime @default(now())\n  updatedAt   DateTime @updatedAt\n  name        String\n  description String\n  owner       User?    @relation(fields: [ownerId], references: [id])\n  ownerId     Int?\n}\n	MigrationSuccess	3	0	[{"tag":"CreateModel","model":"Product"},{"tag":"CreateField","model":"Product","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Product","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Product","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Product","field":"id"},"directive":"id"}},{"tag":"CreateField","model":"Product","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Product","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Product","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"Product","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Product","field":"updatedAt"},"directive":"updatedAt"}},{"tag":"CreateField","model":"Product","field":"name","type":"String","arity":"Required"},{"tag":"CreateField","model":"Product","field":"description","type":"String","arity":"Required"},{"tag":"CreateField","model":"Product","field":"owner","type":"User","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Product","field":"owner"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Product","field":"owner"},"directive":"relation"},"argument":"fields","value":"[ownerId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Product","field":"owner"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Product","field":"ownerId","type":"Int","arity":"Optional"},{"tag":"CreateField","model":"User","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"User","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"updatedAt"},"directive":"updatedAt"}},{"tag":"CreateField","model":"User","field":"products","type":"Product","arity":"List"}]	{"before":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"AddColumn":{"column":{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false}}},{"AddColumn":{"column":{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}}}]}},{"CreateTable":{"table":{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]}}},{"AddForeignKey":{"table":"Product","foreign_key":{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}}}]}	[]	2020-08-29 12:27:37.141	2020-08-29 12:27:37.193
11	20200831122044-tag-connections	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int           @default(autoincrement()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n}\n\nmodel Product {\n  id           Int           @default(autoincrement()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      Int?\n  transactions Transaction[]\n  tags         Tag[]\n}\n\nmodel Transaction {\n  id        Int      @default(autoincrement()) @id\n  amount    Float    @default(0)\n  buyer     User     @relation(fields: [buyerId], references: [id])\n  buyerId   Int\n  createdAt DateTime @default(now())\n  product   Product? @relation(fields: [productId], references: [id])\n  productId Int?\n}\n\nmodel Tag {\n  id        Int      @default(autoincrement()) @id\n  createdAt DateTime @default(now())\n  creator   User     @relation(fields: [creatorId], references: [id])\n  creatorId Int\n  name      String\n  product   Product? @relation(fields: [productId], references: [id])\n  productId Int?\n}\n	MigrationSuccess	0	0	[{"tag":"CreateField","model":"User","field":"createdTags","type":"Tag","arity":"List"},{"tag":"CreateField","model":"Tag","field":"product","type":"Product","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Tag","field":"product"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Tag","field":"product"},"directive":"relation"},"argument":"fields","value":"[productId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Tag","field":"product"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Tag","field":"productId","type":"Int","arity":"Optional"}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Product_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Product_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Tag_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Tag_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Transaction_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Transaction_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1},{"name":"Product_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]}],"enums":[],"sequences":[]},"steps":[]}	[]	2020-08-31 12:20:49.42	2020-08-31 12:20:49.435
4	20200831054013-add-displayname	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int       @default(autoincrement()) @id\n  email         String    @unique\n  emailVerified Boolean   @default(false)\n  username      String    @unique\n  password      String\n  createdAt     DateTime  @default(now())\n  updatedAt     DateTime  @updatedAt\n  products      Product[]\n  displayName   String?\n}\n\nmodel Product {\n  id          Int      @default(autoincrement()) @id\n  createdAt   DateTime @default(now())\n  updatedAt   DateTime @updatedAt\n  name        String\n  description String\n  owner       User?    @relation(fields: [ownerId], references: [id])\n  ownerId     Int?\n  private     Boolean  @default(false)\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"User","field":"displayName","type":"String","arity":"Optional"}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Product_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"private","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Product_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1},{"name":"Product_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"private","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"AddColumn":{"column":{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-08-31 05:40:21.469	2020-08-31 05:40:21.514
5	20200831083959-drop-private	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int       @default(autoincrement()) @id\n  email         String    @unique\n  emailVerified Boolean   @default(false)\n  username      String    @unique\n  password      String\n  createdAt     DateTime  @default(now())\n  updatedAt     DateTime  @updatedAt\n  products      Product[]\n  displayName   String?\n}\n\nmodel Product {\n  id          Int      @default(autoincrement()) @id\n  createdAt   DateTime @default(now())\n  updatedAt   DateTime @updatedAt\n  name        String\n  description String\n  owner       User?    @relation(fields: [ownerId], references: [id])\n  ownerId     Int?\n}\n	MigrationSuccess	1	0	[{"tag":"DeleteField","model":"Product","field":"private"}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Product_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"private","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Product_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1},{"name":"Product_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"DropColumn":{"name":"private"}}]}}]}	[]	2020-08-31 08:40:08.34	2020-08-31 08:40:08.431
7	20200831111001-caps-sanity	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int           @default(autoincrement()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n}\n\nmodel Product {\n  id          Int           @default(autoincrement()) @id\n  createdAt   DateTime      @default(now())\n  updatedAt   DateTime      @updatedAt\n  name        String\n  description String\n  owner       User?         @relation(fields: [ownerId], references: [id])\n  ownerId     Int?\n  Transaction Transaction[]\n}\n\nmodel Transaction {\n  id        Int      @default(autoincrement()) @id\n  amount    Float    @default(0)\n  buyer     User     @relation(fields: [buyerId], references: [id])\n  buyerId   Int\n  createdAt DateTime @default(now())\n  product   Product? @relation(fields: [productId], references: [id])\n  productId Int?\n}\n	MigrationSuccess	0	0	[{"tag":"CreateField","model":"User","field":"transactions","type":"Transaction","arity":"List"},{"tag":"DeleteField","model":"User","field":"Transaction"}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Product_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Product_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Transaction_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Transaction_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1},{"name":"Product_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]}],"enums":[],"sequences":[]},"steps":[]}	[]	2020-08-31 11:10:08.103	2020-08-31 11:10:08.122
9	20200831121103-add-tags	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int           @default(autoincrement()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  Tag           Tag[]\n}\n\nmodel Product {\n  id           Int           @default(autoincrement()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      Int?\n  transactions Transaction[]\n  tags         Tag[]\n}\n\nmodel Transaction {\n  id        Int      @default(autoincrement()) @id\n  amount    Float    @default(0)\n  buyer     User     @relation(fields: [buyerId], references: [id])\n  buyerId   Int\n  createdAt DateTime @default(now())\n  product   Product? @relation(fields: [productId], references: [id])\n  productId Int?\n}\n\nmodel Tag {\n  id        Int      @default(autoincrement()) @id\n  createdAt DateTime @default(now())\n  creator   User     @relation(fields: [creatorId], references: [id])\n  creatorId Int\n  name      String\n}\n	MigrationSuccess	3	0	[{"tag":"CreateModel","model":"Tag"},{"tag":"CreateField","model":"Tag","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Tag","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Tag","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Tag","field":"id"},"directive":"id"}},{"tag":"CreateField","model":"Tag","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Tag","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Tag","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"Tag","field":"creator","type":"User","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Tag","field":"creator"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Tag","field":"creator"},"directive":"relation"},"argument":"fields","value":"[creatorId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Tag","field":"creator"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Tag","field":"creatorId","type":"Int","arity":"Required"},{"tag":"CreateField","model":"Tag","field":"name","type":"String","arity":"Required"},{"tag":"CreateField","model":"User","field":"Tag","type":"Tag","arity":"List"},{"tag":"CreateField","model":"Product","field":"tags","type":"Tag","arity":"List"}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Product_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Product_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Transaction_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Transaction_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1},{"name":"Product_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]}],"enums":[],"sequences":[]},"steps":[{"CreateTable":{"table":{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]}}},{"AddForeignKey":{"table":"Tag","foreign_key":{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Tag","foreign_key":{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}}}]}	[]	2020-08-31 12:11:08.053	2020-08-31 12:11:08.119
6	20200831110409-add-transactions	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int           @default(autoincrement()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  Transaction   Transaction[]\n}\n\nmodel Product {\n  id          Int           @default(autoincrement()) @id\n  createdAt   DateTime      @default(now())\n  updatedAt   DateTime      @updatedAt\n  name        String\n  description String\n  owner       User?         @relation(fields: [ownerId], references: [id])\n  ownerId     Int?\n  Transaction Transaction[]\n}\n\nmodel Transaction {\n  id        Int      @default(autoincrement()) @id\n  amount    Float    @default(0)\n  buyer     User     @relation(fields: [buyerId], references: [id])\n  buyerId   Int\n  createdAt DateTime @default(now())\n  product   Product? @relation(fields: [productId], references: [id])\n  productId Int?\n}\n	MigrationSuccess	3	0	[{"tag":"CreateModel","model":"Transaction"},{"tag":"CreateField","model":"Transaction","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Transaction","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Transaction","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Transaction","field":"id"},"directive":"id"}},{"tag":"CreateField","model":"Transaction","field":"amount","type":"Float","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Transaction","field":"amount"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Transaction","field":"amount"},"directive":"default"},"argument":"","value":"0"},{"tag":"CreateField","model":"Transaction","field":"buyer","type":"User","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Transaction","field":"buyer"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Transaction","field":"buyer"},"directive":"relation"},"argument":"fields","value":"[buyerId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Transaction","field":"buyer"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Transaction","field":"buyerId","type":"Int","arity":"Required"},{"tag":"CreateField","model":"Transaction","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Transaction","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Transaction","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"Transaction","field":"product","type":"Product","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Transaction","field":"product"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Transaction","field":"product"},"directive":"relation"},"argument":"fields","value":"[productId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Transaction","field":"product"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Transaction","field":"productId","type":"Int","arity":"Optional"},{"tag":"CreateField","model":"User","field":"Transaction","type":"Transaction","arity":"List"},{"tag":"CreateField","model":"Product","field":"Transaction","type":"Transaction","arity":"List"}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Product_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Product_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1},{"name":"Product_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]}],"enums":[],"sequences":[]},"steps":[{"CreateTable":{"table":{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]}}},{"AddForeignKey":{"table":"Transaction","foreign_key":{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Transaction","foreign_key":{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}}}]}	[]	2020-08-31 11:04:15.402	2020-08-31 11:04:15.49
8	20200831111226-caps-sanity-2	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int           @default(autoincrement()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n}\n\nmodel Product {\n  id           Int           @default(autoincrement()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      Int?\n  transactions Transaction[]\n}\n\nmodel Transaction {\n  id        Int      @default(autoincrement()) @id\n  amount    Float    @default(0)\n  buyer     User     @relation(fields: [buyerId], references: [id])\n  buyerId   Int\n  createdAt DateTime @default(now())\n  product   Product? @relation(fields: [productId], references: [id])\n  productId Int?\n}\n	MigrationSuccess	0	0	[{"tag":"CreateField","model":"Product","field":"transactions","type":"Transaction","arity":"List"},{"tag":"DeleteField","model":"Product","field":"Transaction"}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Product_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Product_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Transaction_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Transaction_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1},{"name":"Product_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]}],"enums":[],"sequences":[]},"steps":[]}	[]	2020-08-31 11:12:29.573	2020-08-31 11:12:29.586
10	20200831121356-caps-sanity-3	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int           @default(autoincrement()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n}\n\nmodel Product {\n  id           Int           @default(autoincrement()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      Int?\n  transactions Transaction[]\n  tags         Tag[]\n}\n\nmodel Transaction {\n  id        Int      @default(autoincrement()) @id\n  amount    Float    @default(0)\n  buyer     User     @relation(fields: [buyerId], references: [id])\n  buyerId   Int\n  createdAt DateTime @default(now())\n  product   Product? @relation(fields: [productId], references: [id])\n  productId Int?\n}\n\nmodel Tag {\n  id        Int      @default(autoincrement()) @id\n  createdAt DateTime @default(now())\n  creator   User     @relation(fields: [creatorId], references: [id])\n  creatorId Int\n  name      String\n}\n	MigrationSuccess	0	0	[{"tag":"DeleteField","model":"User","field":"Tag"}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Product_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Product_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Tag_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Tag_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Transaction_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Transaction_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1},{"name":"Product_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]}],"enums":[],"sequences":[]},"steps":[]}	[]	2020-08-31 12:14:00.182	2020-08-31 12:14:00.195
14	20200901084937-amount-to-product	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int           @default(autoincrement()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n}\n\nmodel Product {\n  id           Int           @default(autoincrement()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      Int?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n}\n\nmodel Transaction {\n  id        Int      @default(autoincrement()) @id\n  amount    Float    @default(0)\n  buyer     User     @relation(fields: [buyerId], references: [id])\n  buyerId   Int\n  createdAt DateTime @default(now())\n  product   Product? @relation(fields: [productId], references: [id])\n  productId Int?\n}\n\nmodel Tag {\n  id        Int       @default(autoincrement()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId Int\n  name      String\n  products  Product[]\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"Product","field":"amount","type":"Float","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Product","field":"amount"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Product","field":"amount"},"directive":"default"},"argument":"","value":"0"}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Product_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Product_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Tag_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Transaction_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Transaction_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1},{"name":"Product_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"AddColumn":{"column":{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}}}]}}]}	[]	2020-09-01 08:49:42.742	2020-09-01 08:49:42.786
13	20200901050028-email-prefs	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int           @default(autoincrement()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n}\n\nmodel Product {\n  id           Int           @default(autoincrement()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      Int?\n  transactions Transaction[]\n  tags         Tag[]\n}\n\nmodel Transaction {\n  id        Int      @default(autoincrement()) @id\n  amount    Float    @default(0)\n  buyer     User     @relation(fields: [buyerId], references: [id])\n  buyerId   Int\n  createdAt DateTime @default(now())\n  product   Product? @relation(fields: [productId], references: [id])\n  productId Int?\n}\n\nmodel Tag {\n  id        Int       @default(autoincrement()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId Int\n  name      String\n  products  Product[]\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"User","field":"emailOnSale","type":"Boolean","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"emailOnSale"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"emailOnSale"},"directive":"default"},"argument":"","value":"true"},{"tag":"CreateField","model":"User","field":"emailUpdates","type":"Boolean","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"emailUpdates"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"emailUpdates"},"directive":"default"},"argument":"","value":"true"}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Product_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Product_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Tag_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Transaction_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Transaction_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1},{"name":"Product_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"AddColumn":{"column":{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}}},{"AddColumn":{"column":{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}}}]}}]}	[]	2020-09-01 05:00:32.221	2020-09-01 05:00:32.251
15	20200901101952-add-reviews	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int           @default(autoincrement()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           Int           @default(autoincrement()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      Int?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n}\n\nmodel Transaction {\n  id        Int      @default(autoincrement()) @id\n  amount    Float    @default(0)\n  buyer     User     @relation(fields: [buyerId], references: [id])\n  buyerId   Int\n  createdAt DateTime @default(now())\n  product   Product? @relation(fields: [productId], references: [id])\n  productId Int?\n}\n\nmodel Tag {\n  id        Int       @default(autoincrement()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId Int\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id        Int      @default(autoincrement()) @id\n  createdAt DateTime @default(now())\n  product   Product  @relation(fields: [productId], references: [id])\n  productId Int\n  stars     Int\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  Int\n}\n	MigrationSuccess	3	0	[{"tag":"CreateModel","model":"Review"},{"tag":"CreateField","model":"Review","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Review","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Review","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Review","field":"id"},"directive":"id"}},{"tag":"CreateField","model":"Review","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Review","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Review","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"Review","field":"product","type":"Product","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Review","field":"product"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Review","field":"product"},"directive":"relation"},"argument":"fields","value":"[productId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Review","field":"product"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Review","field":"productId","type":"Int","arity":"Required"},{"tag":"CreateField","model":"Review","field":"stars","type":"Int","arity":"Required"},{"tag":"CreateField","model":"Review","field":"author","type":"User","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Review","field":"author"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Review","field":"author"},"directive":"relation"},"argument":"fields","value":"[authorId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Review","field":"author"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Review","field":"authorId","type":"Int","arity":"Required"},{"tag":"CreateField","model":"User","field":"reviews","type":"Review","arity":"List"},{"tag":"CreateField","model":"Product","field":"reviews","type":"Review","arity":"List"}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Product_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Product_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Tag_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Transaction_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Transaction_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1},{"name":"Product_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"CreateTable":{"table":{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"AddForeignKey":{"table":"Review","foreign_key":{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Review","foreign_key":{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}}}]}	[]	2020-09-01 10:19:59.874	2020-09-01 10:19:59.961
17	20200901105703-add-message-to-review	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int           @default(autoincrement()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           Int           @default(autoincrement()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      Int?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n}\n\nmodel Transaction {\n  id        Int      @default(autoincrement()) @id\n  amount    Float    @default(0)\n  buyer     User     @relation(fields: [buyerId], references: [id])\n  buyerId   Int\n  createdAt DateTime @default(now())\n  product   Product? @relation(fields: [productId], references: [id])\n  productId Int?\n  updatedAt DateTime @updatedAt\n}\n\nmodel Tag {\n  id        Int       @default(autoincrement()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId Int\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id        Int      @default(autoincrement()) @id\n  createdAt DateTime @default(now())\n  product   Product  @relation(fields: [productId], references: [id])\n  productId Int\n  stars     Int\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  Int\n  updatedAt DateTime @updatedAt\n  message   String\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"Review","field":"message","type":"String","arity":"Required"}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Product_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Product_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Review_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Review_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Tag_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Transaction_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Transaction_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},{"name":"Review_id_seq","initialValue":1,"allocationSize":1},{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1},{"name":"Product_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},"changes":[{"AddColumn":{"column":{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-01 10:57:09.73	2020-09-01 10:57:09.769
16	20200901102238-add-updatedat	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            Int           @default(autoincrement()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           Int           @default(autoincrement()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      Int?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n}\n\nmodel Transaction {\n  id        Int      @default(autoincrement()) @id\n  amount    Float    @default(0)\n  buyer     User     @relation(fields: [buyerId], references: [id])\n  buyerId   Int\n  createdAt DateTime @default(now())\n  product   Product? @relation(fields: [productId], references: [id])\n  productId Int?\n  updatedAt DateTime @updatedAt\n}\n\nmodel Tag {\n  id        Int       @default(autoincrement()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId Int\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id        Int      @default(autoincrement()) @id\n  createdAt DateTime @default(now())\n  product   Product  @relation(fields: [productId], references: [id])\n  productId Int\n  stars     Int\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  Int\n  updatedAt DateTime @updatedAt\n}\n	MigrationSuccess	2	0	[{"tag":"CreateField","model":"Transaction","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Transaction","field":"updatedAt"},"directive":"updatedAt"}},{"tag":"CreateField","model":"Review","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Review","field":"updatedAt"},"directive":"updatedAt"}}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Product_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Product_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Review_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Review_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Tag_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Transaction_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Transaction_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},{"name":"Review_id_seq","initialValue":1,"allocationSize":1},{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1},{"name":"Product_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},"changes":[{"AddColumn":{"column":{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}}}]}},{"AlterTable":{"table":{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":""},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"AddColumn":{"column":{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-01 10:22:42.279	2020-09-01 10:22:42.34
18	20200901142525-to-uuid	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n}\n\nmodel Transaction {\n  id        String   @default(uuid()) @id\n  amount    Float    @default(0)\n  buyer     User     @relation(fields: [buyerId], references: [id])\n  buyerId   String\n  createdAt DateTime @default(now())\n  product   Product? @relation(fields: [productId], references: [id])\n  productId String?\n  updatedAt DateTime @updatedAt\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  product   Product  @relation(fields: [productId], references: [id])\n  productId String\n  stars     Int\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  String\n  updatedAt DateTime @updatedAt\n  message   String\n}\n	MigrationSuccess	22	0	[{"tag":"UpdateField","model":"User","field":"id","type":"String"},{"tag":"UpdateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"id"},"directive":"default"},"argument":"","newValue":"uuid()"},{"tag":"UpdateField","model":"Product","field":"id","type":"String"},{"tag":"UpdateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Product","field":"id"},"directive":"default"},"argument":"","newValue":"uuid()"},{"tag":"UpdateField","model":"Product","field":"ownerId","type":"String"},{"tag":"UpdateField","model":"Transaction","field":"id","type":"String"},{"tag":"UpdateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Transaction","field":"id"},"directive":"default"},"argument":"","newValue":"uuid()"},{"tag":"UpdateField","model":"Transaction","field":"buyerId","type":"String"},{"tag":"UpdateField","model":"Transaction","field":"productId","type":"String"},{"tag":"UpdateField","model":"Tag","field":"id","type":"String"},{"tag":"UpdateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Tag","field":"id"},"directive":"default"},"argument":"","newValue":"uuid()"},{"tag":"UpdateField","model":"Tag","field":"creatorId","type":"String"},{"tag":"UpdateField","model":"Review","field":"id","type":"String"},{"tag":"UpdateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Review","field":"id"},"directive":"default"},"argument":"","newValue":"uuid()"},{"tag":"UpdateField","model":"Review","field":"productId","type":"String"},{"tag":"UpdateField","model":"Review","field":"authorId","type":"String"}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Product_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Product_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Review_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Review_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Tag_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"Transaction_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Transaction_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"User_id_seq\\"'::regclass)"},"autoIncrement":true},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":{"name":"User_id_seq","initialValue":1,"allocationSize":1},"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},{"name":"Transaction_id_seq","initialValue":1,"allocationSize":1},{"name":"Review_id_seq","initialValue":1,"allocationSize":1},{"name":"Tag_id_seq","initialValue":1,"allocationSize":1},{"name":"User_id_seq","initialValue":1,"allocationSize":1},{"name":"Product_id_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"DropForeignKey":{"table":"Product","constraint_name":"Product_ownerId_fkey"}},{"DropForeignKey":{"table":"Review","constraint_name":"Review_authorId_fkey"}},{"DropForeignKey":{"table":"Review","constraint_name":"Review_productId_fkey"}},{"DropForeignKey":{"table":"Tag","constraint_name":"Tag_creatorId_fkey"}},{"DropForeignKey":{"table":"Transaction","constraint_name":"Transaction_buyerId_fkey"}},{"DropForeignKey":{"table":"Transaction","constraint_name":"Transaction_productId_fkey"}},{"DropForeignKey":{"table":"_ProductToTag","constraint_name":"_ProductToTag_A_fkey"}},{"DropForeignKey":{"table":"_ProductToTag","constraint_name":"_ProductToTag_B_fkey"}},{"AlterTable":{"table":{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"DropPrimaryKey":{"constraint_name":"Product_pkey"}},{"AlterColumn":{"name":"id","column":{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}}},{"AlterColumn":{"name":"ownerId","column":{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}}},{"AddPrimaryKey":{"columns":["id"]}}]}},{"AlterTable":{"table":{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},"changes":[{"DropPrimaryKey":{"constraint_name":"Review_pkey"}},{"AlterColumn":{"name":"id","column":{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}}},{"AlterColumn":{"name":"productId","column":{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}}},{"AlterColumn":{"name":"authorId","column":{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}}},{"AddPrimaryKey":{"columns":["id"]}}]}},{"AlterTable":{"table":{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},"changes":[{"DropPrimaryKey":{"constraint_name":"Tag_pkey"}},{"AlterColumn":{"name":"id","column":{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}}},{"AlterColumn":{"name":"creatorId","column":{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}}},{"AddPrimaryKey":{"columns":["id"]}}]}},{"AlterTable":{"table":{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"DropPrimaryKey":{"constraint_name":"Transaction_pkey"}},{"AlterColumn":{"name":"id","column":{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}}},{"AlterColumn":{"name":"buyerId","column":{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}}},{"AlterColumn":{"name":"productId","column":{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}}},{"AddPrimaryKey":{"columns":["id"]}}]}},{"AlterTable":{"table":{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"DropPrimaryKey":{"constraint_name":"User_pkey"}},{"AlterColumn":{"name":"id","column":{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}}},{"AddPrimaryKey":{"columns":["id"]}}]}},{"AlterTable":{"table":{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},"changes":[{"AlterColumn":{"name":"A","column":{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}}},{"AlterColumn":{"name":"B","column":{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}}}]}},{"AddForeignKey":{"table":"Product","foreign_key":{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}}},{"AddForeignKey":{"table":"Review","foreign_key":{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Review","foreign_key":{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Tag","foreign_key":{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Transaction","foreign_key":{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Transaction","foreign_key":{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}}},{"AddForeignKey":{"table":"_ProductToTag","foreign_key":{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"_ProductToTag","foreign_key":{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}}}]}	[]	2020-09-01 14:25:42.111	2020-09-01 14:25:42.643
19	20200901190548-add-image	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n}\n\nmodel Transaction {\n  id        String   @default(uuid()) @id\n  amount    Float    @default(0)\n  buyer     User     @relation(fields: [buyerId], references: [id])\n  buyerId   String\n  createdAt DateTime @default(now())\n  product   Product? @relation(fields: [productId], references: [id])\n  productId String?\n  updatedAt DateTime @updatedAt\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  product   Product  @relation(fields: [productId], references: [id])\n  productId String\n  stars     Int\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  String\n  updatedAt DateTime @updatedAt\n  message   String\n}\n\nmodel Image {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  secret    String   @unique\n  url       String   @unique\n  product   Product? @relation(fields: [productId], references: [id])\n  productId String?\n}\n	MigrationSuccess	4	0	[{"tag":"CreateModel","model":"Image"},{"tag":"CreateField","model":"Image","field":"id","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Image","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Image","field":"id"},"directive":"default"},"argument":"","value":"uuid()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Image","field":"id"},"directive":"id"}},{"tag":"CreateField","model":"Image","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Image","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Image","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"Image","field":"secret","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Image","field":"secret"},"directive":"unique"}},{"tag":"CreateField","model":"Image","field":"url","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Image","field":"url"},"directive":"unique"}},{"tag":"CreateField","model":"Image","field":"product","type":"Product","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Image","field":"product"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Image","field":"product"},"directive":"relation"},"argument":"fields","value":"[productId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Image","field":"product"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Image","field":"productId","type":"String","arity":"Optional"},{"tag":"CreateField","model":"Product","field":"images","type":"Image","arity":"List"}]	{"before":{"tables":[{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Transaction_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"CreateTable":{"table":{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]}}},{"CreateIndex":{"table":"Image","index":{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},"caused_by_create_table":true}},{"CreateIndex":{"table":"Image","index":{"name":"Image.url_unique","columns":["url"],"tpe":"unique"},"caused_by_create_table":true}},{"AddForeignKey":{"table":"Image","foreign_key":{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}}}]}	[]	2020-09-01 19:05:54.473	2020-09-01 19:05:54.673
24	20200903075710-rename-paypal-id	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Boolean   @default(false)\n  paypalOrderId   String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  product   Product  @relation(fields: [productId], references: [id])\n  productId String\n  stars     Int\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  String\n  updatedAt DateTime @updatedAt\n  message   String\n}\n\nmodel Image {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  secret    String   @unique\n  url       String   @unique\n  product   Product? @relation(fields: [productId], references: [id])\n  productId String?\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"Transaction","field":"paypalOrderId","type":"String","arity":"Optional"},{"tag":"DeleteField","model":"Transaction","field":"paypalId"}]	{"before":{"tables":[{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalOrderId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalOrderId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"DropColumn":{"name":"paypalId"}},{"AddColumn":{"column":{"name":"paypalOrderId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-03 07:57:22.577	2020-09-03 07:57:22.644
20	20200902145523-multiple-products-in-transaction	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n}\n\nmodel Transaction {\n  id        String    @default(uuid()) @id\n  amount    Float     @default(0)\n  buyer     User      @relation(fields: [buyerId], references: [id])\n  buyerId   String\n  createdAt DateTime  @default(now())\n  updatedAt DateTime  @updatedAt\n  products  Product[]\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  product   Product  @relation(fields: [productId], references: [id])\n  productId String\n  stars     Int\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  String\n  updatedAt DateTime @updatedAt\n  message   String\n}\n\nmodel Image {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  secret    String   @unique\n  url       String   @unique\n  product   Product? @relation(fields: [productId], references: [id])\n  productId String?\n}\n	MigrationSuccess	7	0	[{"tag":"CreateField","model":"Transaction","field":"products","type":"Product","arity":"List"},{"tag":"DeleteField","model":"Transaction","field":"product"},{"tag":"DeleteField","model":"Transaction","field":"productId"}]	{"before":{"tables":[{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Transaction_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"DropForeignKey":{"table":"Transaction","constraint_name":"Transaction_productId_fkey"}},{"AlterTable":{"table":{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},"changes":[{"DropColumn":{"name":"productId"}}]}},{"CreateTable":{"table":{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateIndex":{"table":"_ProductToTransaction","index":{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},"caused_by_create_table":true}},{"CreateIndex":{"table":"_ProductToTransaction","index":{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"},"caused_by_create_table":true}},{"AddForeignKey":{"table":"_ProductToTransaction","foreign_key":{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"_ProductToTransaction","foreign_key":{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}}}]}	[]	2020-09-02 14:55:31.791	2020-09-02 14:55:31.973
27	20200904192705-unique-license-key	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Boolean   @default(false)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  product   Product  @relation(fields: [productId], references: [id])\n  productId String\n  stars     Int\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  String\n  updatedAt DateTime @updatedAt\n  message   String\n}\n\nmodel Image {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  secret    String   @unique\n  url       String   @unique\n  product   Product? @relation(fields: [productId], references: [id])\n  productId String?\n}\n	MigrationSuccess	1	0	[{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Transaction","field":"licenseKey"},"directive":"unique"}}]	{"before":{"tables":[{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"CreateIndex":{"table":"Transaction","index":{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"},"caused_by_create_table":false}}]}	[]	2020-09-04 19:27:13.711	2020-09-04 19:27:13.737
31	20200905010416-file-add-name	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File\n  isArchived   Boolean       @default(false)\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Boolean   @default(false)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"File","field":"name","type":"String","arity":"Required"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"},{"name":"File_productId_unique","columns":["productId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[{"constraintName":"File_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"},{"name":"File_productId_unique","columns":["productId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"},{"name":"File_productId_unique","columns":["productId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"AddColumn":{"column":{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-05 01:04:24.802	2020-09-05 01:04:24.83
35	20200905150845-caps-sanity-3	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n	MigrationSuccess	0	0	[{"tag":"CreateField","model":"File","field":"product","type":"Product","arity":"Required"},{"tag":"DeleteField","model":"File","field":"Product"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[]}	[]	2020-09-05 15:08:50.997	2020-09-05 15:08:51.013
21	20200902164521-transaction-licenses	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?\n  licenseRedeemed Boolean\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  product   Product  @relation(fields: [productId], references: [id])\n  productId String\n  stars     Int\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  String\n  updatedAt DateTime @updatedAt\n  message   String\n}\n\nmodel Image {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  secret    String   @unique\n  url       String   @unique\n  product   Product? @relation(fields: [productId], references: [id])\n  productId String?\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"Transaction","field":"email","type":"String","arity":"Optional"},{"tag":"CreateField","model":"Transaction","field":"licenseKey","type":"String","arity":"Optional"},{"tag":"CreateField","model":"Transaction","field":"licenseRedeemed","type":"Boolean","arity":"Required"},{"tag":"UpdateField","model":"Transaction","field":"buyer","arity":"Optional"},{"tag":"UpdateField","model":"Transaction","field":"buyerId","arity":"Optional"}]	{"before":{"tables":[{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"AddColumn":{"column":{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}}},{"AddColumn":{"column":{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}}},{"AddColumn":{"column":{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false}}},{"AlterColumn":{"name":"buyerId","column":{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-02 16:45:26.435	2020-09-02 16:45:26.524
30	20200904232257-remove-unique-product-to-upload	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File\n  isArchived   Boolean       @default(false)\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Boolean   @default(false)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n}\n	MigrationSuccess	2	0	[{"tag":"DeleteDirective","location":{"path":{"tag":"Field","model":"Image","field":"productId"},"directive":"unique"}},{"tag":"DeleteDirective","location":{"path":{"tag":"Field","model":"File","field":"productId"},"directive":"unique"}}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"File.productId_unique","columns":["productId"],"tpe":"unique"},{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[{"constraintName":"File_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.productId_unique","columns":["productId"],"tpe":"unique"},{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"},{"name":"File_productId_unique","columns":["productId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"DropIndex":{"table":"Image","name":"Image.productId_unique"}},{"AlterIndex":{"table":"File","index_name":"File.productId_unique","index_new_name":"File_productId_unique"}}]}	[]	2020-09-04 23:23:05.56	2020-09-04 23:23:05.639
22	20200902165125-secure-licenses	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Boolean   @default(false)\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  product   Product  @relation(fields: [productId], references: [id])\n  productId String\n  stars     Int\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  String\n  updatedAt DateTime @updatedAt\n  message   String\n}\n\nmodel Image {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  secret    String   @unique\n  url       String   @unique\n  product   Product? @relation(fields: [productId], references: [id])\n  productId String?\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"Transaction","field":"licenseKeyShown","type":"Boolean","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Transaction","field":"licenseKeyShown"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Transaction","field":"licenseKeyShown"},"directive":"default"},"argument":"","value":"false"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Transaction","field":"licenseRedeemed"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Transaction","field":"licenseRedeemed"},"directive":"default"},"argument":"","value":"false"}]	{"before":{"tables":[{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"AddColumn":{"column":{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}}},{"AlterColumn":{"name":"licenseRedeemed","column":{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}}}]}}]}	[]	2020-09-02 16:51:31.083	2020-09-02 16:51:31.113
23	20200903055818-paypal-id-on-transaction	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Boolean   @default(false)\n  paypalId        String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  product   Product  @relation(fields: [productId], references: [id])\n  productId String\n  stars     Int\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  String\n  updatedAt DateTime @updatedAt\n  message   String\n}\n\nmodel Image {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  secret    String   @unique\n  url       String   @unique\n  product   Product? @relation(fields: [productId], references: [id])\n  productId String?\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"Transaction","field":"paypalId","type":"String","arity":"Optional"}]	{"before":{"tables":[{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"AddColumn":{"column":{"name":"paypalId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-03 05:58:34.145	2020-09-03 05:58:34.233
25	20200903082428-appprove-transactions	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Boolean   @default(false)\n  paypalOrderId   String?\n  approved        Boolean   @default(false)\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  product   Product  @relation(fields: [productId], references: [id])\n  productId String\n  stars     Int\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  String\n  updatedAt DateTime @updatedAt\n  message   String\n}\n\nmodel Image {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  secret    String   @unique\n  url       String   @unique\n  product   Product? @relation(fields: [productId], references: [id])\n  productId String?\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"Transaction","field":"approved","type":"Boolean","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Transaction","field":"approved"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Transaction","field":"approved"},"directive":"default"},"argument":"","value":"false"}]	{"before":{"tables":[{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalOrderId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalOrderId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalOrderId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"AddColumn":{"column":{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}}}]}}]}	[]	2020-09-03 08:24:33.222	2020-09-03 08:24:33.305
26	20200903232221-rename-paypal-id-to-payment	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Boolean   @default(false)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  product   Product  @relation(fields: [productId], references: [id])\n  productId String\n  stars     Int\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  String\n  updatedAt DateTime @updatedAt\n  message   String\n}\n\nmodel Image {\n  id        String   @default(uuid()) @id\n  createdAt DateTime @default(now())\n  secret    String   @unique\n  url       String   @unique\n  product   Product? @relation(fields: [productId], references: [id])\n  productId String?\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"Transaction","field":"paypalPaymentId","type":"String","arity":"Optional"},{"tag":"DeleteField","model":"Transaction","field":"paypalOrderId"}]	{"before":{"tables":[{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalOrderId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"DropColumn":{"name":"paypalOrderId"}},{"AddColumn":{"column":{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-03 23:22:27.613	2020-09-03 23:22:27.655
28	20200904225505-isarchived-and-file	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File\n  isArchived   Boolean       @default(false)\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Boolean   @default(false)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n}\n	MigrationSuccess	8	0	[{"tag":"CreateModel","model":"File"},{"tag":"CreateField","model":"File","field":"id","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"File","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"File","field":"id"},"directive":"default"},"argument":"","value":"uuid()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"File","field":"id"},"directive":"id"}},{"tag":"CreateField","model":"File","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"File","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"File","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"File","field":"product","type":"Product","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"File","field":"product"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"File","field":"product"},"directive":"relation"},"argument":"fields","value":"[productId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"File","field":"product"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"File","field":"productId","type":"String","arity":"Optional"},{"tag":"CreateField","model":"File","field":"secret","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"File","field":"secret"},"directive":"unique"}},{"tag":"CreateField","model":"File","field":"url","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"File","field":"url"},"directive":"unique"}},{"tag":"CreateField","model":"File","field":"isArchived","type":"Boolean","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"File","field":"isArchived"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"File","field":"isArchived"},"directive":"default"},"argument":"","value":"false"},{"tag":"CreateField","model":"Product","field":"file","type":"File","arity":"Required"},{"tag":"CreateField","model":"Product","field":"isArchived","type":"Boolean","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Product","field":"isArchived"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Product","field":"isArchived"},"directive":"default"},"argument":"","value":"false"},{"tag":"CreateField","model":"Review","field":"isArchived","type":"Boolean","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Review","field":"isArchived"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Review","field":"isArchived"},"directive":"default"},"argument":"","value":"false"},{"tag":"CreateField","model":"Image","field":"isArchived","type":"Boolean","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Image","field":"isArchived"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Image","field":"isArchived"},"directive":"default"},"argument":"","value":"false"}]	{"before":{"tables":[{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"},{"name":"File_productId_unique","columns":["productId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"AddColumn":{"column":{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}}}]}},{"AlterTable":{"table":{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"AddColumn":{"column":{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}}}]}},{"AlterTable":{"table":{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},"changes":[{"AddColumn":{"column":{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}}}]}},{"CreateTable":{"table":{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"},{"name":"File_productId_unique","columns":["productId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]}}},{"CreateIndex":{"table":"File","index":{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},"caused_by_create_table":true}},{"CreateIndex":{"table":"File","index":{"name":"File.url_unique","columns":["url"],"tpe":"unique"},"caused_by_create_table":true}},{"CreateIndex":{"table":"File","index":{"name":"File_productId_unique","columns":["productId"],"tpe":"unique"},"caused_by_create_table":true}},{"AddForeignKey":{"table":"File","foreign_key":{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}}}]}	[]	2020-09-04 22:55:10.093	2020-09-04 22:55:10.298
29	20200904232022-unique-productid-on-uploads	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File\n  isArchived   Boolean       @default(false)\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Boolean   @default(false)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?  @unique\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?  @unique\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n}\n	MigrationSuccess	2	0	[{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Image","field":"productId"},"directive":"unique"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"File","field":"productId"},"directive":"unique"}}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"},{"name":"File_productId_unique","columns":["productId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[{"constraintName":"File_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"},{"name":"Image.productId_unique","columns":["productId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"File.productId_unique","columns":["productId"],"tpe":"unique"},{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"CreateIndex":{"table":"Image","index":{"name":"Image.productId_unique","columns":["productId"],"tpe":"unique"},"caused_by_create_table":false}},{"AlterIndex":{"table":"File","index_name":"File_productId_unique","index_new_name":"File.productId_unique"}}]}	[]	2020-09-04 23:20:29.074	2020-09-04 23:20:29.152
32	20200905034115-license-key-shown-n-times	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File\n  isArchived   Boolean       @default(false)\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n}\n	MigrationSuccess	1	0	[{"tag":"UpdateField","model":"Transaction","field":"licenseKeyShown","type":"Int"},{"tag":"UpdateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Transaction","field":"licenseKeyShown"},"directive":"default"},"argument":"","newValue":"0"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"},{"name":"File_productId_unique","columns":["productId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[{"constraintName":"File_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"},{"name":"File_productId_unique","columns":["productId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"AlterColumn":{"name":"licenseKeyShown","column":{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}}}]}}]}	[]	2020-09-05 03:41:21.441	2020-09-05 03:41:21.518
33	20200905150229-optional-file	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?\n  isArchived   Boolean       @default(false)\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n}\n	MigrationSuccess	0	0	[{"tag":"UpdateField","model":"Product","field":"file","arity":"Optional"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"},{"name":"File_productId_unique","columns":["productId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[{"constraintName":"File_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"},{"name":"File_productId_unique","columns":["productId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[]}	[]	2020-09-05 15:02:37.94	2020-09-05 15:02:37.996
34	20200905150721-different-file-relation	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  Product    Product\n}\n	MigrationSuccess	6	0	[{"tag":"CreateField","model":"Product","field":"fileId","type":"String","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Product","field":"file"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Product","field":"file"},"directive":"relation"},"argument":"fields","value":"[fileId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Product","field":"file"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"File","field":"Product","type":"Product","arity":"Required"},{"tag":"DeleteField","model":"File","field":"product"},{"tag":"DeleteField","model":"File","field":"productId"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"},{"name":"File_productId_unique","columns":["productId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[{"constraintName":"File_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"DropIndex":{"table":"File","name":"File_productId_unique"}},{"DropForeignKey":{"table":"File","constraint_name":"File_productId_fkey"}},{"AlterTable":{"table":{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"DropColumn":{"name":"productId"}}]}},{"AlterTable":{"table":{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"AddColumn":{"column":{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}}}]}},{"CreateIndex":{"table":"Product","index":{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"},"caused_by_create_table":false}},{"AddForeignKey":{"table":"Product","foreign_key":{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}}}]}	[]	2020-09-05 15:07:28.265	2020-09-05 15:07:28.441
36	20200907180857-avatar-url	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n  avatarURL     String?\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"User","field":"avatarURL","type":"String","arity":"Optional"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"AddColumn":{"column":{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-30 04:13:00.274	2020-09-30 04:13:00.283
37	20200921203057-added-onsale	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n  avatarURL     String?\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"Product","field":"onSale","type":"Boolean","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Product","field":"onSale"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Product","field":"onSale"},"directive":"default"},"argument":"","value":"false"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"AddColumn":{"column":{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}}}]}}]}	[]	2020-09-30 04:13:00.389	2020-09-30 04:13:00.897
39	20200924235230-ad-tokens	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n  avatarURL     String?\n  adTokens      Int           @default(0)\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"User","field":"adTokens","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"adTokens"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"adTokens"},"directive":"default"},"argument":"","value":"0"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"AddColumn":{"column":{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}}}]}}]}	[]	2020-09-30 04:13:01.254	2020-09-30 04:13:01.261
38	20200922005538-add-ssaleprice	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n  avatarURL     String?\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"Product","field":"salePrice","type":"Float","arity":"Optional"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},"changes":[{"AddColumn":{"column":{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-30 04:13:01.145	2020-09-30 04:13:01.154
41	20200926202121-add-promo-code	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n  avatarURL     String?\n  adTokens      Int           @default(0)\n  unpaidBalance Float         @default(0)\n  paidBalance   Float         @default(0)\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id         String    @default(uuid()) @id\n  createdAt  DateTime  @default(now())\n  isArchived Boolean   @default(false)\n  code       String    @unique\n  expires    DateTime?\n  product    Product   @relation(fields: [productId], references: [id])\n  productId  String\n  useLimit   Int?\n  uses       Int       @default(0)\n}\n	MigrationSuccess	3	0	[{"tag":"CreateModel","model":"PromoCode"},{"tag":"CreateField","model":"PromoCode","field":"id","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PromoCode","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PromoCode","field":"id"},"directive":"default"},"argument":"","value":"uuid()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PromoCode","field":"id"},"directive":"id"}},{"tag":"CreateField","model":"PromoCode","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PromoCode","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PromoCode","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"PromoCode","field":"isArchived","type":"Boolean","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PromoCode","field":"isArchived"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PromoCode","field":"isArchived"},"directive":"default"},"argument":"","value":"false"},{"tag":"CreateField","model":"PromoCode","field":"code","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PromoCode","field":"code"},"directive":"unique"}},{"tag":"CreateField","model":"PromoCode","field":"expires","type":"DateTime","arity":"Optional"},{"tag":"CreateField","model":"PromoCode","field":"product","type":"Product","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PromoCode","field":"product"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PromoCode","field":"product"},"directive":"relation"},"argument":"fields","value":"[productId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PromoCode","field":"product"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"PromoCode","field":"productId","type":"String","arity":"Required"},{"tag":"CreateField","model":"PromoCode","field":"useLimit","type":"Int","arity":"Optional"},{"tag":"CreateField","model":"PromoCode","field":"uses","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PromoCode","field":"uses"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PromoCode","field":"uses"},"directive":"default"},"argument":"","value":"0"},{"tag":"CreateField","model":"Product","field":"promoCodes","type":"PromoCode","arity":"List"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"expires","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"CreateTable":{"table":{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"expires","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateIndex":{"table":"PromoCode","index":{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"},"caused_by_create_table":true}},{"AddForeignKey":{"table":"PromoCode","foreign_key":{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}}}]}	[]	2020-09-30 04:13:01.48	2020-09-30 04:13:01.505
40	20200926033213-add-balance-to-user	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n  avatarURL     String?\n  adTokens      Int           @default(0)\n  unpaidBalance Float         @default(0)\n  paidBalance   Float         @default(0)\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"User","field":"unpaidBalance","type":"Float","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"unpaidBalance"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"unpaidBalance"},"directive":"default"},"argument":"","value":"0"},{"tag":"CreateField","model":"User","field":"paidBalance","type":"Float","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"paidBalance"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"paidBalance"},"directive":"default"},"argument":"","value":"0"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"AddColumn":{"column":{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}}},{"AddColumn":{"column":{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}}}]}}]}	[]	2020-09-30 04:13:01.364	2020-09-30 04:13:01.372
43	20200926214916-affects-all	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n  avatarURL     String?\n  adTokens      Int           @default(0)\n  unpaidBalance Float         @default(0)\n  paidBalance   Float         @default(0)\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id         String    @default(uuid()) @id\n  createdAt  DateTime  @default(now())\n  isArchived Boolean   @default(false)\n  code       String    @unique\n  product    Product   @relation(fields: [productId], references: [id])\n  productId  String\n  useLimit   Int?\n  uses       Int       @default(0)\n  expiresAt  DateTime?\n  affectsAll Boolean\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"PromoCode","field":"affectsAll","type":"Boolean","arity":"Required"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},"changes":[{"AddColumn":{"column":{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-30 04:13:01.73	2020-09-30 04:13:01.738
42	20200926202341-expires-at	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n  avatarURL     String?\n  adTokens      Int           @default(0)\n  unpaidBalance Float         @default(0)\n  paidBalance   Float         @default(0)\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id         String    @default(uuid()) @id\n  createdAt  DateTime  @default(now())\n  isArchived Boolean   @default(false)\n  code       String    @unique\n  product    Product   @relation(fields: [productId], references: [id])\n  productId  String\n  useLimit   Int?\n  uses       Int       @default(0)\n  expiresAt  DateTime?\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"PromoCode","field":"expiresAt","type":"DateTime","arity":"Optional"},{"tag":"DeleteField","model":"PromoCode","field":"expires"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"expires","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},"changes":[{"DropColumn":{"name":"expires"}},{"AddColumn":{"column":{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-30 04:13:01.619	2020-09-30 04:13:01.627
44	20200926222433-percent-off-on-code	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n  avatarURL     String?\n  adTokens      Int           @default(0)\n  unpaidBalance Float         @default(0)\n  paidBalance   Float         @default(0)\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id         String    @default(uuid()) @id\n  createdAt  DateTime  @default(now())\n  isArchived Boolean   @default(false)\n  code       String    @unique\n  product    Product   @relation(fields: [productId], references: [id])\n  productId  String\n  useLimit   Int?\n  uses       Int       @default(0)\n  expiresAt  DateTime?\n  affectsAll Boolean\n  percentOff Int?\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"PromoCode","field":"percentOff","type":"Int","arity":"Optional"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},"changes":[{"AddColumn":{"column":{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-30 04:13:01.845	2020-09-30 04:13:01.853
45	20200926223337-add-user-to-promo	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n  avatarURL     String?\n  adTokens      Int           @default(0)\n  unpaidBalance Float         @default(0)\n  paidBalance   Float         @default(0)\n  promoCodes    PromoCode[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id         String    @default(uuid()) @id\n  createdAt  DateTime  @default(now())\n  isArchived Boolean   @default(false)\n  code       String    @unique\n  product    Product   @relation(fields: [productId], references: [id])\n  productId  String\n  useLimit   Int?\n  uses       Int       @default(0)\n  expiresAt  DateTime?\n  affectsAll Boolean\n  percentOff Int?\n  user       User      @relation(fields: [userId], references: [id])\n  userId     String\n}\n	MigrationSuccess	2	0	[{"tag":"CreateField","model":"User","field":"promoCodes","type":"PromoCode","arity":"List"},{"tag":"CreateField","model":"PromoCode","field":"user","type":"User","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PromoCode","field":"user"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PromoCode","field":"user"},"directive":"relation"},"argument":"fields","value":"[userId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PromoCode","field":"user"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"PromoCode","field":"userId","type":"String","arity":"Required"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},"changes":[{"AddColumn":{"column":{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}}}]}},{"AddForeignKey":{"table":"PromoCode","foreign_key":{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}}}]}	[]	2020-09-30 04:13:02.15	2020-09-30 04:13:02.162
46	20200926231834-optional-product-on-code	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n  avatarURL     String?\n  adTokens      Int           @default(0)\n  unpaidBalance Float         @default(0)\n  paidBalance   Float         @default(0)\n  promoCodes    PromoCode[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id         String    @default(uuid()) @id\n  createdAt  DateTime  @default(now())\n  isArchived Boolean   @default(false)\n  code       String    @unique\n  product    Product?  @relation(fields: [productId], references: [id])\n  productId  String?\n  useLimit   Int?\n  uses       Int       @default(0)\n  expiresAt  DateTime?\n  affectsAll Boolean\n  percentOff Int?\n  user       User      @relation(fields: [userId], references: [id])\n  userId     String\n}\n	MigrationSuccess	1	0	[{"tag":"UpdateField","model":"PromoCode","field":"product","arity":"Optional"},{"tag":"UpdateField","model":"PromoCode","field":"productId","arity":"Optional"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"PromoCode_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},"changes":[{"AlterColumn":{"name":"productId","column":{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-30 04:13:02.274	2020-09-30 04:13:02.282
47	20200926235352-percent-off-required	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id            String        @default(uuid()) @id\n  email         String        @unique\n  emailVerified Boolean       @default(false)\n  username      String        @unique\n  password      String\n  createdAt     DateTime      @default(now())\n  updatedAt     DateTime      @updatedAt\n  products      Product[]\n  displayName   String?\n  transactions  Transaction[]\n  createdTags   Tag[]\n  emailOnSale   Boolean       @default(true)\n  emailUpdates  Boolean       @default(true)\n  reviews       Review[]\n  avatarURL     String?\n  adTokens      Int           @default(0)\n  unpaidBalance Float         @default(0)\n  paidBalance   Float         @default(0)\n  promoCodes    PromoCode[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id         String    @default(uuid()) @id\n  createdAt  DateTime  @default(now())\n  isArchived Boolean   @default(false)\n  code       String    @unique\n  product    Product?  @relation(fields: [productId], references: [id])\n  productId  String?\n  useLimit   Int?\n  uses       Int       @default(0)\n  expiresAt  DateTime?\n  affectsAll Boolean\n  percentOff Int\n  user       User      @relation(fields: [userId], references: [id])\n  userId     String\n}\n	MigrationSuccess	1	0	[{"tag":"UpdateField","model":"PromoCode","field":"percentOff","arity":"Required"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"PromoCode_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},"changes":[{"AlterColumn":{"name":"percentOff","column":{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-30 04:13:02.393	2020-09-30 04:13:02.402
48	20200928005301-added-email-verification-token	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id               String        @default(uuid()) @id\n  email            String        @unique\n  emailVerified    Boolean       @default(false)\n  username         String        @unique\n  password         String\n  createdAt        DateTime      @default(now())\n  updatedAt        DateTime      @updatedAt\n  products         Product[]\n  displayName      String?\n  transactions     Transaction[]\n  createdTags      Tag[]\n  emailOnSale      Boolean       @default(true)\n  emailUpdates     Boolean       @default(true)\n  reviews          Review[]\n  avatarURL        String?\n  adTokens         Int           @default(0)\n  unpaidBalance    Float         @default(0)\n  paidBalance      Float         @default(0)\n  promoCodes       PromoCode[]\n  emailVerifyToken String?       @unique\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id         String    @default(uuid()) @id\n  createdAt  DateTime  @default(now())\n  isArchived Boolean   @default(false)\n  code       String    @unique\n  product    Product?  @relation(fields: [productId], references: [id])\n  productId  String?\n  useLimit   Int?\n  uses       Int       @default(0)\n  expiresAt  DateTime?\n  affectsAll Boolean\n  percentOff Int\n  user       User      @relation(fields: [userId], references: [id])\n  userId     String\n}\n	MigrationSuccess	2	0	[{"tag":"CreateField","model":"User","field":"emailVerifyToken","type":"String","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"emailVerifyToken"},"directive":"unique"}}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"PromoCode_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"AddColumn":{"column":{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}}}]}},{"CreateIndex":{"table":"User","index":{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},"caused_by_create_table":false}}]}	[]	2020-09-30 04:13:02.99	2020-09-30 04:13:03.004
49	20200928005750-better-email-verification-token	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id               String        @default(uuid()) @id\n  email            String        @unique\n  emailVerified    Boolean       @default(false)\n  username         String        @unique\n  password         String\n  createdAt        DateTime      @default(now())\n  updatedAt        DateTime      @updatedAt\n  products         Product[]\n  displayName      String?\n  transactions     Transaction[]\n  createdTags      Tag[]\n  emailOnSale      Boolean       @default(true)\n  emailUpdates     Boolean       @default(true)\n  reviews          Review[]\n  avatarURL        String?\n  adTokens         Int           @default(0)\n  unpaidBalance    Float         @default(0)\n  paidBalance      Float         @default(0)\n  promoCodes       PromoCode[]\n  emailVerifyToken String        @unique @default(cuid())\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id         String    @default(uuid()) @id\n  createdAt  DateTime  @default(now())\n  isArchived Boolean   @default(false)\n  code       String    @unique\n  product    Product?  @relation(fields: [productId], references: [id])\n  productId  String?\n  useLimit   Int?\n  uses       Int       @default(0)\n  expiresAt  DateTime?\n  affectsAll Boolean\n  percentOff Int\n  user       User      @relation(fields: [userId], references: [id])\n  userId     String\n}\n	MigrationSuccess	1	0	[{"tag":"UpdateField","model":"User","field":"emailVerifyToken","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"emailVerifyToken"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"emailVerifyToken"},"directive":"default"},"argument":"","value":"cuid()"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"PromoCode_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"AlterColumn":{"name":"emailVerifyToken","column":{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-30 04:14:28.423	2020-09-30 04:14:28.433
50	20200928023037-added-reset-password-token	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id                 String        @default(uuid()) @id\n  email              String        @unique\n  emailVerified      Boolean       @default(false)\n  username           String        @unique\n  password           String\n  createdAt          DateTime      @default(now())\n  updatedAt          DateTime      @updatedAt\n  products           Product[]\n  displayName        String?\n  transactions       Transaction[]\n  createdTags        Tag[]\n  emailOnSale        Boolean       @default(true)\n  emailUpdates       Boolean       @default(true)\n  reviews            Review[]\n  avatarURL          String?\n  adTokens           Int           @default(0)\n  unpaidBalance      Float         @default(0)\n  paidBalance        Float         @default(0)\n  promoCodes         PromoCode[]\n  emailVerifyToken   String        @unique @default(cuid())\n  passwordResetToken String?\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id         String    @default(uuid()) @id\n  createdAt  DateTime  @default(now())\n  isArchived Boolean   @default(false)\n  code       String    @unique\n  product    Product?  @relation(fields: [productId], references: [id])\n  productId  String?\n  useLimit   Int?\n  uses       Int       @default(0)\n  expiresAt  DateTime?\n  affectsAll Boolean\n  percentOff Int\n  user       User      @relation(fields: [userId], references: [id])\n  userId     String\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"User","field":"passwordResetToken","type":"String","arity":"Optional"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"PromoCode_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"AddColumn":{"column":{"name":"passwordResetToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-30 04:14:28.558	2020-09-30 04:14:28.566
53	20200928200453-save-paypal-email	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id                 String        @default(uuid()) @id\n  email              String        @unique\n  emailVerified      Boolean       @default(false)\n  username           String        @unique\n  password           String\n  createdAt          DateTime      @default(now())\n  updatedAt          DateTime      @updatedAt\n  products           Product[]\n  displayName        String?\n  transactions       Transaction[]\n  createdTags        Tag[]\n  emailOnSale        Boolean       @default(true)\n  emailUpdates       Boolean       @default(true)\n  reviews            Review[]\n  avatarURL          String?\n  adTokens           Int           @default(0)\n  unpaidBalance      Float         @default(0)\n  paidBalance        Float         @default(0)\n  promoCodes         PromoCode[]\n  emailVerifyToken   String        @unique @default(cuid())\n  passwordResetToken String        @unique @default(cuid())\n  withdraws          Withdraw[]\n  paypalEmail        String?\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n}\n\nmodel Transaction {\n  id              String      @default(uuid()) @id\n  amount          Float       @default(0)\n  buyer           User?       @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime    @default(now())\n  updatedAt       DateTime    @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?     @unique\n  licenseRedeemed Boolean     @default(false)\n  licenseKeyShown Int         @default(0)\n  approved        Boolean     @default(false)\n  paypalPaymentId String?\n  promos          PromoCode[]\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  isArchived   Boolean       @default(false)\n  code         String        @unique\n  product      Product?      @relation(fields: [productId], references: [id])\n  productId    String?\n  useLimit     Int?\n  uses         Int           @default(0)\n  expiresAt    DateTime?\n  affectsAll   Boolean\n  percentOff   Int\n  user         User          @relation(fields: [userId], references: [id])\n  userId       String\n  transactions Transaction[]\n}\n\nmodel Withdraw {\n  id           String   @default(uuid()) @id\n  approved     Boolean  @default(false)\n  createdAt    DateTime @default(now())\n  confirmToken String   @default(cuid())\n  user         User     @relation(fields: [userId], references: [id])\n  userId       String\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"User","field":"paypalEmail","type":"String","arity":"Optional"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"PromoCode_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"Withdraw","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"confirmToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Withdraw_pkey"},"foreignKeys":[{"constraintName":"Withdraw_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_PromoCodeToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_PromoCodeToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_PromoCodeToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_PromoCodeToTransaction_A_fkey","columns":["A"],"referencedTable":"PromoCode","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_PromoCodeToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"paypalEmail","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Withdraw","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"confirmToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_PromoCodeToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_PromoCodeToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_PromoCodeToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"PromoCode","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"paypalEmail","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"AddColumn":{"column":{"name":"paypalEmail","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}}}]}}]}	[]	2020-09-30 04:18:29.488	2020-09-30 04:18:29.496
51	20200928023541-non-opt-passwordreset	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id                 String        @default(uuid()) @id\n  email              String        @unique\n  emailVerified      Boolean       @default(false)\n  username           String        @unique\n  password           String\n  createdAt          DateTime      @default(now())\n  updatedAt          DateTime      @updatedAt\n  products           Product[]\n  displayName        String?\n  transactions       Transaction[]\n  createdTags        Tag[]\n  emailOnSale        Boolean       @default(true)\n  emailUpdates       Boolean       @default(true)\n  reviews            Review[]\n  avatarURL          String?\n  adTokens           Int           @default(0)\n  unpaidBalance      Float         @default(0)\n  paidBalance        Float         @default(0)\n  promoCodes         PromoCode[]\n  emailVerifyToken   String        @unique @default(cuid())\n  passwordResetToken String        @unique @default(cuid())\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n}\n\nmodel Transaction {\n  id              String    @default(uuid()) @id\n  amount          Float     @default(0)\n  buyer           User?     @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime  @default(now())\n  updatedAt       DateTime  @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?   @unique\n  licenseRedeemed Boolean   @default(false)\n  licenseKeyShown Int       @default(0)\n  approved        Boolean   @default(false)\n  paypalPaymentId String?\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id         String    @default(uuid()) @id\n  createdAt  DateTime  @default(now())\n  isArchived Boolean   @default(false)\n  code       String    @unique\n  product    Product?  @relation(fields: [productId], references: [id])\n  productId  String?\n  useLimit   Int?\n  uses       Int       @default(0)\n  expiresAt  DateTime?\n  affectsAll Boolean\n  percentOff Int\n  user       User      @relation(fields: [userId], references: [id])\n  userId     String\n}\n	MigrationSuccess	2	0	[{"tag":"UpdateField","model":"User","field":"passwordResetToken","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"passwordResetToken"},"directive":"unique"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"passwordResetToken"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"passwordResetToken"},"directive":"default"},"argument":"","value":"cuid()"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"PromoCode_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"AlterColumn":{"name":"passwordResetToken","column":{"name":"passwordResetToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}}}]}},{"CreateIndex":{"table":"User","index":{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"},"caused_by_create_table":false}}]}	[]	2020-09-30 04:18:29.195	2020-09-30 04:18:29.21
52	20200928190640-withdraw-model	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id                 String        @default(uuid()) @id\n  email              String        @unique\n  emailVerified      Boolean       @default(false)\n  username           String        @unique\n  password           String\n  createdAt          DateTime      @default(now())\n  updatedAt          DateTime      @updatedAt\n  products           Product[]\n  displayName        String?\n  transactions       Transaction[]\n  createdTags        Tag[]\n  emailOnSale        Boolean       @default(true)\n  emailUpdates       Boolean       @default(true)\n  reviews            Review[]\n  avatarURL          String?\n  adTokens           Int           @default(0)\n  unpaidBalance      Float         @default(0)\n  paidBalance        Float         @default(0)\n  promoCodes         PromoCode[]\n  emailVerifyToken   String        @unique @default(cuid())\n  passwordResetToken String        @unique @default(cuid())\n  withdraws          Withdraw[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n}\n\nmodel Transaction {\n  id              String      @default(uuid()) @id\n  amount          Float       @default(0)\n  buyer           User?       @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime    @default(now())\n  updatedAt       DateTime    @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?     @unique\n  licenseRedeemed Boolean     @default(false)\n  licenseKeyShown Int         @default(0)\n  approved        Boolean     @default(false)\n  paypalPaymentId String?\n  promos          PromoCode[]\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  isArchived   Boolean       @default(false)\n  code         String        @unique\n  product      Product?      @relation(fields: [productId], references: [id])\n  productId    String?\n  useLimit     Int?\n  uses         Int           @default(0)\n  expiresAt    DateTime?\n  affectsAll   Boolean\n  percentOff   Int\n  user         User          @relation(fields: [userId], references: [id])\n  userId       String\n  transactions Transaction[]\n}\n\nmodel Withdraw {\n  id           String   @default(uuid()) @id\n  approved     Boolean  @default(false)\n  createdAt    DateTime @default(now())\n  confirmToken String   @default(cuid())\n  user         User     @relation(fields: [userId], references: [id])\n  userId       String\n}\n	MigrationSuccess	7	0	[{"tag":"CreateModel","model":"Withdraw"},{"tag":"CreateField","model":"Withdraw","field":"id","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Withdraw","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Withdraw","field":"id"},"directive":"default"},"argument":"","value":"uuid()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Withdraw","field":"id"},"directive":"id"}},{"tag":"CreateField","model":"Withdraw","field":"approved","type":"Boolean","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Withdraw","field":"approved"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Withdraw","field":"approved"},"directive":"default"},"argument":"","value":"false"},{"tag":"CreateField","model":"Withdraw","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Withdraw","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Withdraw","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"Withdraw","field":"confirmToken","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Withdraw","field":"confirmToken"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Withdraw","field":"confirmToken"},"directive":"default"},"argument":"","value":"cuid()"},{"tag":"CreateField","model":"Withdraw","field":"user","type":"User","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Withdraw","field":"user"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Withdraw","field":"user"},"directive":"relation"},"argument":"fields","value":"[userId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Withdraw","field":"user"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Withdraw","field":"userId","type":"String","arity":"Required"},{"tag":"CreateField","model":"User","field":"withdraws","type":"Withdraw","arity":"List"},{"tag":"CreateField","model":"Transaction","field":"promos","type":"PromoCode","arity":"List"},{"tag":"CreateField","model":"PromoCode","field":"transactions","type":"Transaction","arity":"List"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"PromoCode_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Withdraw","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"confirmToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_PromoCodeToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_PromoCodeToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_PromoCodeToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"PromoCode","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"CreateTable":{"table":{"name":"Withdraw","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"confirmToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateTable":{"table":{"name":"_PromoCodeToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_PromoCodeToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_PromoCodeToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"PromoCode","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateIndex":{"table":"_PromoCodeToTransaction","index":{"name":"_PromoCodeToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},"caused_by_create_table":true}},{"CreateIndex":{"table":"_PromoCodeToTransaction","index":{"name":"_PromoCodeToTransaction_B_index","columns":["B"],"tpe":"normal"},"caused_by_create_table":true}},{"AddForeignKey":{"table":"Withdraw","foreign_key":{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"_PromoCodeToTransaction","foreign_key":{"constraintName":null,"columns":["A"],"referencedTable":"PromoCode","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"_PromoCodeToTransaction","foreign_key":{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}}}]}	[]	2020-09-30 04:18:29.331	2020-09-30 04:18:29.379
54	20200928205006-add-admin	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id                 String        @default(uuid()) @id\n  email              String        @unique\n  emailVerified      Boolean       @default(false)\n  username           String        @unique\n  password           String\n  createdAt          DateTime      @default(now())\n  updatedAt          DateTime      @updatedAt\n  products           Product[]\n  displayName        String?\n  transactions       Transaction[]\n  createdTags        Tag[]\n  emailOnSale        Boolean       @default(true)\n  emailUpdates       Boolean       @default(true)\n  reviews            Review[]\n  avatarURL          String?\n  adTokens           Int           @default(0)\n  unpaidBalance      Float         @default(0)\n  paidBalance        Float         @default(0)\n  promoCodes         PromoCode[]\n  emailVerifyToken   String        @unique @default(cuid())\n  passwordResetToken String        @unique @default(cuid())\n  withdraws          Withdraw[]\n  paypalEmail        String?\n  isAdmin            Boolean       @default(false)\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n}\n\nmodel Transaction {\n  id              String      @default(uuid()) @id\n  amount          Float       @default(0)\n  buyer           User?       @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime    @default(now())\n  updatedAt       DateTime    @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?     @unique\n  licenseRedeemed Boolean     @default(false)\n  licenseKeyShown Int         @default(0)\n  approved        Boolean     @default(false)\n  paypalPaymentId String?\n  promos          PromoCode[]\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  isArchived   Boolean       @default(false)\n  code         String        @unique\n  product      Product?      @relation(fields: [productId], references: [id])\n  productId    String?\n  useLimit     Int?\n  uses         Int           @default(0)\n  expiresAt    DateTime?\n  affectsAll   Boolean\n  percentOff   Int\n  user         User          @relation(fields: [userId], references: [id])\n  userId       String\n  transactions Transaction[]\n}\n\nmodel Withdraw {\n  id           String   @default(uuid()) @id\n  approved     Boolean  @default(false)\n  createdAt    DateTime @default(now())\n  confirmToken String   @default(cuid())\n  user         User     @relation(fields: [userId], references: [id])\n  userId       String\n}\n	MigrationSuccess	1	0	[{"tag":"CreateField","model":"User","field":"isAdmin","type":"Boolean","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"isAdmin"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"isAdmin"},"directive":"default"},"argument":"","value":"false"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"PromoCode_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"paypalEmail","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"Withdraw","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"confirmToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Withdraw_pkey"},"foreignKeys":[{"constraintName":"Withdraw_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_PromoCodeToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_PromoCodeToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_PromoCodeToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_PromoCodeToTransaction_A_fkey","columns":["A"],"referencedTable":"PromoCode","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_PromoCodeToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"paypalEmail","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isAdmin","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Withdraw","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"confirmToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_PromoCodeToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_PromoCodeToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_PromoCodeToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"PromoCode","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"paypalEmail","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isAdmin","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"AddColumn":{"column":{"name":"isAdmin","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}}}]}}]}	[]	2020-09-30 04:18:29.602	2020-09-30 04:18:29.611
55	20201004221755-add-accounttype	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id                 String        @default(uuid()) @id\n  email              String        @unique\n  emailVerified      Boolean       @default(false)\n  username           String        @unique\n  password           String\n  createdAt          DateTime      @default(now())\n  updatedAt          DateTime      @updatedAt\n  products           Product[]\n  displayName        String?\n  transactions       Transaction[]\n  createdTags        Tag[]\n  emailOnSale        Boolean       @default(true)\n  emailUpdates       Boolean       @default(true)\n  reviews            Review[]\n  avatarURL          String?\n  adTokens           Int           @default(0)\n  unpaidBalance      Float         @default(0)\n  paidBalance        Float         @default(0)\n  promoCodes         PromoCode[]\n  emailVerifyToken   String        @unique @default(cuid())\n  passwordResetToken String        @unique @default(cuid())\n  withdraws          Withdraw[]\n  paypalEmail        String?\n  isAdmin            Boolean       @default(false)\n  accountType        AccountType   @default(FREE)\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n}\n\nmodel Transaction {\n  id              String      @default(uuid()) @id\n  amount          Float       @default(0)\n  buyer           User?       @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime    @default(now())\n  updatedAt       DateTime    @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?     @unique\n  licenseRedeemed Boolean     @default(false)\n  licenseKeyShown Int         @default(0)\n  approved        Boolean     @default(false)\n  paypalPaymentId String?\n  promos          PromoCode[]\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  isArchived   Boolean       @default(false)\n  code         String        @unique\n  product      Product?      @relation(fields: [productId], references: [id])\n  productId    String?\n  useLimit     Int?\n  uses         Int           @default(0)\n  expiresAt    DateTime?\n  affectsAll   Boolean\n  percentOff   Int\n  user         User          @relation(fields: [userId], references: [id])\n  userId       String\n  transactions Transaction[]\n}\n\nmodel Withdraw {\n  id           String   @default(uuid()) @id\n  approved     Boolean  @default(false)\n  createdAt    DateTime @default(now())\n  confirmToken String   @default(cuid())\n  user         User     @relation(fields: [userId], references: [id])\n  userId       String\n}\n\nenum AccountType {\n  FREE\n  PRO\n  PROPLUS\n}\n	MigrationSuccess	2	0	[{"tag":"CreateEnum","enum":"AccountType","values":["FREE","PRO","PROPLUS"]},{"tag":"CreateField","model":"User","field":"accountType","type":"AccountType","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"accountType"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"accountType"},"directive":"default"},"argument":"","value":"FREE"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"PromoCode_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"paypalEmail","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isAdmin","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"Withdraw","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"confirmToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Withdraw_pkey"},"foreignKeys":[{"constraintName":"Withdraw_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_PromoCodeToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_PromoCodeToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_PromoCodeToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_PromoCodeToTransaction_A_fkey","columns":["A"],"referencedTable":"PromoCode","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_PromoCodeToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"paypalEmail","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isAdmin","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"accountType","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":{"enum":"AccountType"},"arity":"required"},"default":{"VALUE":"FREE"},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Withdraw","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"confirmToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_PromoCodeToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_PromoCodeToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_PromoCodeToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"PromoCode","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[{"name":"AccountType","values":["FREE","PRO","PROPLUS"]}],"sequences":[]},"steps":[{"CreateEnum":{"name":"AccountType","variants":["FREE","PRO","PROPLUS"]}},{"AlterTable":{"table":{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"paypalEmail","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isAdmin","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"accountType","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":{"enum":"AccountType"},"arity":"required"},"default":{"VALUE":"FREE"},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},"changes":[{"AddColumn":{"column":{"name":"accountType","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":{"enum":"AccountType"},"arity":"required"},"default":{"VALUE":"FREE"},"autoIncrement":false}}}]}}]}	[]	2020-10-04 22:21:43.957	2020-10-04 22:21:44.004
56	20201005234912-add-platform-payment	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id                 String        @default(uuid()) @id\n  email              String        @unique\n  emailVerified      Boolean       @default(false)\n  username           String        @unique\n  password           String\n  createdAt          DateTime      @default(now())\n  updatedAt          DateTime      @updatedAt\n  products           Product[]\n  displayName        String?\n  transactions       Transaction[]\n  createdTags        Tag[]\n  emailOnSale        Boolean       @default(true)\n  emailUpdates       Boolean       @default(true)\n  reviews            Review[]\n  avatarURL          String?\n  adTokens           Int           @default(0)\n  unpaidBalance      Float         @default(0)\n  paidBalance        Float         @default(0)\n  promoCodes         PromoCode[]\n  emailVerifyToken   String        @unique @default(cuid())\n  passwordResetToken String        @unique @default(cuid())\n  withdraws          Withdraw[]\n  paypalEmail        String?\n  isAdmin            Boolean       @default(false)\n  accountType        AccountType   @default(FREE)\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n}\n\nmodel Transaction {\n  id              String            @default(uuid()) @id\n  amount          Float             @default(0)\n  buyer           User?             @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime          @default(now())\n  updatedAt       DateTime          @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?           @unique\n  licenseRedeemed Boolean           @default(false)\n  licenseKeyShown Int               @default(0)\n  approved        Boolean           @default(false)\n  paypalPaymentId String?\n  promos          PromoCode[]\n  PlatformPayment PlatformPayment[]\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  isArchived   Boolean       @default(false)\n  code         String        @unique\n  product      Product?      @relation(fields: [productId], references: [id])\n  productId    String?\n  useLimit     Int?\n  uses         Int           @default(0)\n  expiresAt    DateTime?\n  affectsAll   Boolean\n  percentOff   Int\n  user         User          @relation(fields: [userId], references: [id])\n  userId       String\n  transactions Transaction[]\n}\n\nmodel Withdraw {\n  id           String   @default(uuid()) @id\n  approved     Boolean  @default(false)\n  createdAt    DateTime @default(now())\n  confirmToken String   @default(cuid())\n  user         User     @relation(fields: [userId], references: [id])\n  userId       String\n}\n\nenum AccountType {\n  FREE\n  PRO\n  PROPLUS\n}\n\nmodel PlatformPayment {\n  id            String      @id @default(uuid())\n  createdAt     DateTime    @default(now())\n  amount        Float       @default(0)\n  product       Product     @relation(fields: [productId], references: [id])\n  transaction   Transaction @relation(fields: [transactionId], references: [id])\n  transactionId String\n  productId     String\n}\n	MigrationSuccess	3	0	[{"tag":"CreateModel","model":"PlatformPayment"},{"tag":"CreateField","model":"PlatformPayment","field":"id","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PlatformPayment","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PlatformPayment","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PlatformPayment","field":"id"},"directive":"default"},"argument":"","value":"uuid()"},{"tag":"CreateField","model":"PlatformPayment","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PlatformPayment","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PlatformPayment","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"PlatformPayment","field":"amount","type":"Float","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PlatformPayment","field":"amount"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PlatformPayment","field":"amount"},"directive":"default"},"argument":"","value":"0"},{"tag":"CreateField","model":"PlatformPayment","field":"product","type":"Product","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PlatformPayment","field":"product"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PlatformPayment","field":"product"},"directive":"relation"},"argument":"fields","value":"[productId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PlatformPayment","field":"product"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"PlatformPayment","field":"transaction","type":"Transaction","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PlatformPayment","field":"transaction"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PlatformPayment","field":"transaction"},"directive":"relation"},"argument":"fields","value":"[transactionId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PlatformPayment","field":"transaction"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"PlatformPayment","field":"transactionId","type":"String","arity":"Required"},{"tag":"CreateField","model":"PlatformPayment","field":"productId","type":"String","arity":"Required"},{"tag":"CreateField","model":"Transaction","field":"PlatformPayment","type":"PlatformPayment","arity":"List"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"PromoCode_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"paypalEmail","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isAdmin","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"accountType","tpe":{"dataType":"USER-DEFINED","fullDataType":"AccountType","characterMaximumLength":null,"family":{"enum":"AccountType"},"arity":"required"},"default":{"VALUE":"FREE"},"autoIncrement":false}],"indices":[{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"Withdraw","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"confirmToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Withdraw_pkey"},"foreignKeys":[{"constraintName":"Withdraw_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_PromoCodeToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_PromoCodeToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_PromoCodeToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_PromoCodeToTransaction_A_fkey","columns":["A"],"referencedTable":"PromoCode","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_PromoCodeToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[{"name":"AccountType","values":["FREE","PRO","PROPLUS"]}],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"paypalEmail","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isAdmin","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"accountType","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":{"enum":"AccountType"},"arity":"required"},"default":{"VALUE":"FREE"},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Withdraw","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"confirmToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"PlatformPayment","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"transactionId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["transactionId"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_PromoCodeToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_PromoCodeToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_PromoCodeToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"PromoCode","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[{"name":"AccountType","values":["FREE","PRO","PROPLUS"]}],"sequences":[]},"steps":[{"CreateTable":{"table":{"name":"PlatformPayment","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"transactionId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["transactionId"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"AddForeignKey":{"table":"PlatformPayment","foreign_key":{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"PlatformPayment","foreign_key":{"constraintName":null,"columns":["transactionId"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}}}]}	[]	2020-10-05 23:49:16.006	2020-10-05 23:49:16.274
57	20201005235339-generic-payouts	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id                 String        @default(uuid()) @id\n  email              String        @unique\n  emailVerified      Boolean       @default(false)\n  username           String        @unique\n  password           String\n  createdAt          DateTime      @default(now())\n  updatedAt          DateTime      @updatedAt\n  products           Product[]\n  displayName        String?\n  transactions       Transaction[]\n  createdTags        Tag[]\n  emailOnSale        Boolean       @default(true)\n  emailUpdates       Boolean       @default(true)\n  reviews            Review[]\n  avatarURL          String?\n  adTokens           Int           @default(0)\n  unpaidBalance      Float         @default(0)\n  paidBalance        Float         @default(0)\n  promoCodes         PromoCode[]\n  emailVerifyToken   String        @unique @default(cuid())\n  passwordResetToken String        @unique @default(cuid())\n  withdraws          Withdraw[]\n  paypalEmail        String?\n  isAdmin            Boolean       @default(false)\n  accountType        AccountType   @default(FREE)\n  payouts            Payout[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n  payouts      Payout[]\n}\n\nmodel Transaction {\n  id              String      @default(uuid()) @id\n  amount          Float       @default(0)\n  buyer           User?       @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime    @default(now())\n  updatedAt       DateTime    @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?     @unique\n  licenseRedeemed Boolean     @default(false)\n  licenseKeyShown Int         @default(0)\n  approved        Boolean     @default(false)\n  paypalPaymentId String?\n  promos          PromoCode[]\n  payouts         Payout[]\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  isArchived   Boolean       @default(false)\n  code         String        @unique\n  product      Product?      @relation(fields: [productId], references: [id])\n  productId    String?\n  useLimit     Int?\n  uses         Int           @default(0)\n  expiresAt    DateTime?\n  affectsAll   Boolean\n  percentOff   Int\n  user         User          @relation(fields: [userId], references: [id])\n  userId       String\n  transactions Transaction[]\n}\n\nmodel Withdraw {\n  id           String   @default(uuid()) @id\n  approved     Boolean  @default(false)\n  createdAt    DateTime @default(now())\n  confirmToken String   @default(cuid())\n  user         User     @relation(fields: [userId], references: [id])\n  userId       String\n}\n\nenum AccountType {\n  FREE\n  PRO\n  PROPLUS\n}\n\nmodel Payout {\n  id            String      @id @default(uuid())\n  createdAt     DateTime    @default(now())\n  amount        Float       @default(0)\n  user          User?       @relation(fields: [userId], references: [id])\n  userId        String?\n  forPlatform   Boolean\n  product       Product     @relation(fields: [productId], references: [id])\n  productId     String\n  transaction   Transaction @relation(fields: [transactionId], references: [id])\n  transactionId String\n}\n	MigrationSuccess	7	0	[{"tag":"CreateModel","model":"Payout"},{"tag":"CreateField","model":"Payout","field":"id","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Payout","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Payout","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Payout","field":"id"},"directive":"default"},"argument":"","value":"uuid()"},{"tag":"CreateField","model":"Payout","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Payout","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Payout","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"Payout","field":"amount","type":"Float","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Payout","field":"amount"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Payout","field":"amount"},"directive":"default"},"argument":"","value":"0"},{"tag":"CreateField","model":"Payout","field":"user","type":"User","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Payout","field":"user"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Payout","field":"user"},"directive":"relation"},"argument":"fields","value":"[userId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Payout","field":"user"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Payout","field":"userId","type":"String","arity":"Optional"},{"tag":"CreateField","model":"Payout","field":"forPlatform","type":"Boolean","arity":"Required"},{"tag":"CreateField","model":"Payout","field":"product","type":"Product","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Payout","field":"product"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Payout","field":"product"},"directive":"relation"},"argument":"fields","value":"[productId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Payout","field":"product"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Payout","field":"productId","type":"String","arity":"Required"},{"tag":"CreateField","model":"Payout","field":"transaction","type":"Transaction","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Payout","field":"transaction"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Payout","field":"transaction"},"directive":"relation"},"argument":"fields","value":"[transactionId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Payout","field":"transaction"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Payout","field":"transactionId","type":"String","arity":"Required"},{"tag":"DeleteModel","model":"PlatformPayment"},{"tag":"CreateField","model":"User","field":"payouts","type":"Payout","arity":"List"},{"tag":"CreateField","model":"Product","field":"payouts","type":"Payout","arity":"List"},{"tag":"CreateField","model":"Transaction","field":"payouts","type":"Payout","arity":"List"},{"tag":"DeleteField","model":"Transaction","field":"PlatformPayment"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PlatformPayment","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"transactionId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PlatformPayment_pkey"},"foreignKeys":[{"constraintName":"PlatformPayment_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"PlatformPayment_transactionId_fkey","columns":["transactionId"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"PromoCode_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"paypalEmail","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isAdmin","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"accountType","tpe":{"dataType":"USER-DEFINED","fullDataType":"AccountType","characterMaximumLength":null,"family":{"enum":"AccountType"},"arity":"required"},"default":{"VALUE":"FREE"},"autoIncrement":false}],"indices":[{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"Withdraw","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"confirmToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Withdraw_pkey"},"foreignKeys":[{"constraintName":"Withdraw_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_PromoCodeToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_PromoCodeToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_PromoCodeToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_PromoCodeToTransaction_A_fkey","columns":["A"],"referencedTable":"PromoCode","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_PromoCodeToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[{"name":"AccountType","values":["FREE","PRO","PROPLUS"]}],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"paypalEmail","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isAdmin","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"accountType","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":{"enum":"AccountType"},"arity":"required"},"default":{"VALUE":"FREE"},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Withdraw","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"confirmToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Payout","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"forPlatform","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"transactionId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["transactionId"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_PromoCodeToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_PromoCodeToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_PromoCodeToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"PromoCode","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[{"name":"AccountType","values":["FREE","PRO","PROPLUS"]}],"sequences":[]},"steps":[{"DropForeignKey":{"table":"PlatformPayment","constraint_name":"PlatformPayment_productId_fkey"}},{"DropForeignKey":{"table":"PlatformPayment","constraint_name":"PlatformPayment_transactionId_fkey"}},{"CreateTable":{"table":{"name":"Payout","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"forPlatform","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"transactionId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["transactionId"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"AddForeignKey":{"table":"Payout","foreign_key":{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}}},{"AddForeignKey":{"table":"Payout","foreign_key":{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Payout","foreign_key":{"constraintName":null,"columns":["transactionId"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"DropTable":{"name":"PlatformPayment"}}]}	[]	2020-10-05 23:53:42.735	2020-10-05 23:53:42.839
58	20201005235515-default-forplatform-payout	datasource db {\n  provider = "postgres"\n  url      = "***"\n}\n\nmodel User {\n  id                 String        @default(uuid()) @id\n  email              String        @unique\n  emailVerified      Boolean       @default(false)\n  username           String        @unique\n  password           String\n  createdAt          DateTime      @default(now())\n  updatedAt          DateTime      @updatedAt\n  products           Product[]\n  displayName        String?\n  transactions       Transaction[]\n  createdTags        Tag[]\n  emailOnSale        Boolean       @default(true)\n  emailUpdates       Boolean       @default(true)\n  reviews            Review[]\n  avatarURL          String?\n  adTokens           Int           @default(0)\n  unpaidBalance      Float         @default(0)\n  paidBalance        Float         @default(0)\n  promoCodes         PromoCode[]\n  emailVerifyToken   String        @unique @default(cuid())\n  passwordResetToken String        @unique @default(cuid())\n  withdraws          Withdraw[]\n  paypalEmail        String?\n  isAdmin            Boolean       @default(false)\n  accountType        AccountType   @default(FREE)\n  payouts            Payout[]\n}\n\nmodel Product {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  name         String\n  description  String\n  owner        User?         @relation(fields: [ownerId], references: [id])\n  ownerId      String?\n  transactions Transaction[]\n  tags         Tag[]\n  amount       Float         @default(0)\n  reviews      Review[]\n  images       Image[]\n  file         File?         @relation(fields: [fileId], references: [id])\n  isArchived   Boolean       @default(false)\n  fileId       String?\n  onSale       Boolean       @default(false)\n  salePrice    Float?\n  promoCodes   PromoCode[]\n  payouts      Payout[]\n}\n\nmodel Transaction {\n  id              String      @default(uuid()) @id\n  amount          Float       @default(0)\n  buyer           User?       @relation(fields: [buyerId], references: [id])\n  buyerId         String?\n  createdAt       DateTime    @default(now())\n  updatedAt       DateTime    @updatedAt\n  products        Product[]\n  email           String?\n  licenseKey      String?     @unique\n  licenseRedeemed Boolean     @default(false)\n  licenseKeyShown Int         @default(0)\n  approved        Boolean     @default(false)\n  paypalPaymentId String?\n  promos          PromoCode[]\n  payouts         Payout[]\n}\n\nmodel Tag {\n  id        String    @default(uuid()) @id\n  createdAt DateTime  @default(now())\n  creator   User      @relation(fields: [creatorId], references: [id])\n  creatorId String\n  name      String\n  products  Product[]\n}\n\nmodel Review {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  product    Product  @relation(fields: [productId], references: [id])\n  productId  String\n  stars      Int\n  author     User     @relation(fields: [authorId], references: [id])\n  authorId   String\n  updatedAt  DateTime @updatedAt\n  message    String\n  isArchived Boolean  @default(false)\n}\n\nmodel Image {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  product    Product? @relation(fields: [productId], references: [id])\n  productId  String?\n  isArchived Boolean  @default(false)\n}\n\nmodel File {\n  id         String   @default(uuid()) @id\n  createdAt  DateTime @default(now())\n  secret     String   @unique\n  url        String   @unique\n  isArchived Boolean  @default(false)\n  name       String\n  product    Product\n}\n\nmodel PromoCode {\n  id           String        @default(uuid()) @id\n  createdAt    DateTime      @default(now())\n  isArchived   Boolean       @default(false)\n  code         String        @unique\n  product      Product?      @relation(fields: [productId], references: [id])\n  productId    String?\n  useLimit     Int?\n  uses         Int           @default(0)\n  expiresAt    DateTime?\n  affectsAll   Boolean\n  percentOff   Int\n  user         User          @relation(fields: [userId], references: [id])\n  userId       String\n  transactions Transaction[]\n}\n\nmodel Withdraw {\n  id           String   @default(uuid()) @id\n  approved     Boolean  @default(false)\n  createdAt    DateTime @default(now())\n  confirmToken String   @default(cuid())\n  user         User     @relation(fields: [userId], references: [id])\n  userId       String\n}\n\nenum AccountType {\n  FREE\n  PRO\n  PROPLUS\n}\n\nmodel Payout {\n  id            String      @id @default(uuid())\n  createdAt     DateTime    @default(now())\n  amount        Float       @default(0)\n  user          User?       @relation(fields: [userId], references: [id])\n  userId        String?\n  forPlatform   Boolean     @default(false)\n  product       Product     @relation(fields: [productId], references: [id])\n  productId     String\n  transaction   Transaction @relation(fields: [transactionId], references: [id])\n  transactionId String\n}\n	MigrationSuccess	1	0	[{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Payout","field":"forPlatform"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Payout","field":"forPlatform"},"directive":"default"},"argument":"","value":"false"}]	{"before":{"tables":[{"name":"File","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"File_pkey"},"foreignKeys":[]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Image_pkey"},"foreignKeys":[{"constraintName":"Image_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Payout","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"forPlatform","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"transactionId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Payout_pkey"},"foreignKeys":[{"constraintName":"Payout_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Payout_transactionId_fkey","columns":["transactionId"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Payout_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Product_pkey"},"foreignKeys":[{"constraintName":"Product_fileId_fkey","columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"Product_ownerId_fkey","columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"PromoCode_pkey"},"foreignKeys":[{"constraintName":"PromoCode_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"PromoCode_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Review_pkey"},"foreignKeys":[{"constraintName":"Review_authorId_fkey","columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"Review_productId_fkey","columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Tag_pkey"},"foreignKeys":[{"constraintName":"Tag_creatorId_fkey","columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Transaction_pkey"},"foreignKeys":[{"constraintName":"Transaction_buyerId_fkey","columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"numeric","fullDataType":"numeric","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"paypalEmail","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isAdmin","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"accountType","tpe":{"dataType":"USER-DEFINED","fullDataType":"AccountType","characterMaximumLength":null,"family":{"enum":"AccountType"},"arity":"required"},"default":{"VALUE":"FREE"},"autoIncrement":false}],"indices":[{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"User_pkey"},"foreignKeys":[]},{"name":"Withdraw","columns":[{"name":"id","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"boolean","fullDataType":"bool","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"confirmToken","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":"Withdraw_pkey"},"foreignKeys":[{"constraintName":"Withdraw_userId_fkey","columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_Migration","columns":[{"name":"revision","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"SEQUENCE":"nextval('\\"_Migration_revision_seq\\"'::regclass)"},"autoIncrement":true},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"applied","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"rolled_back","tpe":{"dataType":"integer","fullDataType":"int4","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"timestamp without time zone","fullDataType":"timestamp","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1},"constraintName":"_Migration_pkey"},"foreignKeys":[]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTag_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTag_B_fkey","columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_ProductToTransaction_A_fkey","columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_ProductToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_PromoCodeToTransaction","columns":[{"name":"A","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_PromoCodeToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_PromoCodeToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":"_PromoCodeToTransaction_A_fkey","columns":["A"],"referencedTable":"PromoCode","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":"_PromoCodeToTransaction_B_fkey","columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[{"name":"AccountType","values":["FREE","PRO","PROPLUS"]}],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"User","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailVerified","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"username","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"displayName","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"emailOnSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"emailUpdates","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":true},"autoIncrement":false},{"name":"avatarURL","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"adTokens","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"unpaidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"paidBalance","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"emailVerifyToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordResetToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"paypalEmail","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isAdmin","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"accountType","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":{"enum":"AccountType"},"arity":"required"},"default":{"VALUE":"FREE"},"autoIncrement":false}],"indices":[{"name":"User.email_unique","columns":["email"],"tpe":"unique"},{"name":"User.username_unique","columns":["username"],"tpe":"unique"},{"name":"User.emailVerifyToken_unique","columns":["emailVerifyToken"],"tpe":"unique"},{"name":"User.passwordResetToken_unique","columns":["passwordResetToken"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"Product","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"description","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"ownerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"fileId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"onSale","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"salePrice","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Product_fileId_unique","columns":["fileId"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["ownerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["fileId"],"referencedTable":"File","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Transaction","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"buyerId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"licenseRedeemed","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"licenseKeyShown","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"paypalPaymentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"Transaction.licenseKey_unique","columns":["licenseKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buyerId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Tag","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"creatorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["creatorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Review","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"stars","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"authorId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"message","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["authorId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Image","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}],"indices":[{"name":"Image.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"Image.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"File","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"secret","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"url","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"File.secret_unique","columns":["secret"],"tpe":"unique"},{"name":"File.url_unique","columns":["url"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PromoCode","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"isArchived","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"useLimit","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"uses","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":{"VALUE":0},"autoIncrement":false},{"name":"expiresAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"affectsAll","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"percentOff","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"PromoCode.code_unique","columns":["code"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Withdraw","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"approved","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"confirmToken","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Payout","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"forPlatform","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"transactionId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["transactionId"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_ProductToTag","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_ProductToTag_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_ProductToTag_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Tag","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"_PromoCodeToTransaction","columns":[{"name":"A","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"B","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"_PromoCodeToTransaction_AB_unique","columns":["A","B"],"tpe":"unique"},{"name":"_PromoCodeToTransaction_B_index","columns":["B"],"tpe":"normal"}],"primaryKey":null,"foreignKeys":[{"constraintName":null,"columns":["A"],"referencedTable":"PromoCode","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["B"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]}],"enums":[{"name":"AccountType","values":["FREE","PRO","PROPLUS"]}],"sequences":[]},"steps":[{"AlterTable":{"table":{"name":"Payout","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"amount","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"float","arity":"required"},"default":{"VALUE":0.0},"autoIncrement":false},{"name":"userId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"forPlatform","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false},{"name":"productId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"transactionId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["userId"],"referencedTable":"User","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["productId"],"referencedTable":"Product","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["transactionId"],"referencedTable":"Transaction","referencedColumns":["id"],"onDeleteAction":"cascade"}]},"changes":[{"AlterColumn":{"name":"forPlatform","column":{"name":"forPlatform","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":{"VALUE":false},"autoIncrement":false}}}]}}]}	[]	2020-10-05 23:55:18.873	2020-10-05 23:55:18.89
\.


--
-- Data for Name: _ProductToTag; Type: TABLE DATA; Schema: public; Owner: zane
--

COPY public."_ProductToTag" ("A", "B") FROM stdin;
\.


--
-- Data for Name: _ProductToTransaction; Type: TABLE DATA; Schema: public; Owner: zane
--

COPY public."_ProductToTransaction" ("A", "B") FROM stdin;
prod6	351b8f74-8896-4754-ad8b-3e6fffcb3c8f
df36c1c9-65b0-40b6-a640-1599f3ce48c5	4c3c89ca-5775-473b-9409-cc7807725044
74b8e376-199f-40e7-bbd9-6be85c64a3a3	be75dfa7-657b-4322-a12e-7edb7efedc8d
prod2	f4801bdc-408f-4605-b5e6-3466d4385614
prod10	f4801bdc-408f-4605-b5e6-3466d4385614
74b8e376-199f-40e7-bbd9-6be85c64a3a3	e450548a-641f-4e6b-8a87-4ce36bbadce0
prod2	b383074c-fd13-43bb-9962-e1a153cec72f
74b8e376-199f-40e7-bbd9-6be85c64a3a3	88bb1149-681c-4fe7-a6bb-098743bcd903
74b8e376-199f-40e7-bbd9-6be85c64a3a3	3883b87f-c285-44e4-a4a7-af996b35349c
74b8e376-199f-40e7-bbd9-6be85c64a3a3	21d63637-1419-4f8b-bbfb-89bd4244d41e
prod1	0a2f3108-b363-4ab6-a243-93cba69fdccb
df36c1c9-65b0-40b6-a640-1599f3ce48c5	5f3201e6-e6ad-461e-8c1b-5652d2cb0441
\.


--
-- Data for Name: _PromoCodeToTransaction; Type: TABLE DATA; Schema: public; Owner: zane
--

COPY public."_PromoCodeToTransaction" ("A", "B") FROM stdin;
7475eb41-8b47-47ec-8961-cc2e90d7f0dd	b383074c-fd13-43bb-9962-e1a153cec72f
7475eb41-8b47-47ec-8961-cc2e90d7f0dd	88bb1149-681c-4fe7-a6bb-098743bcd903
\.


--
-- Name: _Migration_revision_seq; Type: SEQUENCE SET; Schema: public; Owner: zane
--

SELECT pg_catalog.setval('public."_Migration_revision_seq"', 58, true);


--
-- Name: File File_pkey; Type: CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."File"
    ADD CONSTRAINT "File_pkey" PRIMARY KEY (id);


--
-- Name: Image Image_pkey; Type: CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Image"
    ADD CONSTRAINT "Image_pkey" PRIMARY KEY (id);


--
-- Name: Payout Payout_pkey; Type: CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Payout"
    ADD CONSTRAINT "Payout_pkey" PRIMARY KEY (id);


--
-- Name: Product Product_pkey; Type: CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Product"
    ADD CONSTRAINT "Product_pkey" PRIMARY KEY (id);


--
-- Name: PromoCode PromoCode_pkey; Type: CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."PromoCode"
    ADD CONSTRAINT "PromoCode_pkey" PRIMARY KEY (id);


--
-- Name: Review Review_pkey; Type: CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Review"
    ADD CONSTRAINT "Review_pkey" PRIMARY KEY (id);


--
-- Name: Tag Tag_pkey; Type: CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Tag"
    ADD CONSTRAINT "Tag_pkey" PRIMARY KEY (id);


--
-- Name: Transaction Transaction_pkey; Type: CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Transaction"
    ADD CONSTRAINT "Transaction_pkey" PRIMARY KEY (id);


--
-- Name: User User_pkey; Type: CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."User"
    ADD CONSTRAINT "User_pkey" PRIMARY KEY (id);


--
-- Name: Withdraw Withdraw_pkey; Type: CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Withdraw"
    ADD CONSTRAINT "Withdraw_pkey" PRIMARY KEY (id);


--
-- Name: _Migration _Migration_pkey; Type: CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."_Migration"
    ADD CONSTRAINT "_Migration_pkey" PRIMARY KEY (revision);


--
-- Name: File.secret_unique; Type: INDEX; Schema: public; Owner: zane
--

CREATE UNIQUE INDEX "File.secret_unique" ON public."File" USING btree (secret);


--
-- Name: File.url_unique; Type: INDEX; Schema: public; Owner: zane
--

CREATE UNIQUE INDEX "File.url_unique" ON public."File" USING btree (url);


--
-- Name: Image.secret_unique; Type: INDEX; Schema: public; Owner: zane
--

CREATE UNIQUE INDEX "Image.secret_unique" ON public."Image" USING btree (secret);


--
-- Name: Image.url_unique; Type: INDEX; Schema: public; Owner: zane
--

CREATE UNIQUE INDEX "Image.url_unique" ON public."Image" USING btree (url);


--
-- Name: Product_fileId_unique; Type: INDEX; Schema: public; Owner: zane
--

CREATE UNIQUE INDEX "Product_fileId_unique" ON public."Product" USING btree ("fileId");


--
-- Name: PromoCode.code_unique; Type: INDEX; Schema: public; Owner: zane
--

CREATE UNIQUE INDEX "PromoCode.code_unique" ON public."PromoCode" USING btree (code);


--
-- Name: Transaction.licenseKey_unique; Type: INDEX; Schema: public; Owner: zane
--

CREATE UNIQUE INDEX "Transaction.licenseKey_unique" ON public."Transaction" USING btree ("licenseKey");


--
-- Name: User.emailVerifyToken_unique; Type: INDEX; Schema: public; Owner: zane
--

CREATE UNIQUE INDEX "User.emailVerifyToken_unique" ON public."User" USING btree ("emailVerifyToken");


--
-- Name: User.email_unique; Type: INDEX; Schema: public; Owner: zane
--

CREATE UNIQUE INDEX "User.email_unique" ON public."User" USING btree (email);


--
-- Name: User.passwordResetToken_unique; Type: INDEX; Schema: public; Owner: zane
--

CREATE UNIQUE INDEX "User.passwordResetToken_unique" ON public."User" USING btree ("passwordResetToken");


--
-- Name: User.username_unique; Type: INDEX; Schema: public; Owner: zane
--

CREATE UNIQUE INDEX "User.username_unique" ON public."User" USING btree (username);


--
-- Name: _ProductToTag_AB_unique; Type: INDEX; Schema: public; Owner: zane
--

CREATE UNIQUE INDEX "_ProductToTag_AB_unique" ON public."_ProductToTag" USING btree ("A", "B");


--
-- Name: _ProductToTag_B_index; Type: INDEX; Schema: public; Owner: zane
--

CREATE INDEX "_ProductToTag_B_index" ON public."_ProductToTag" USING btree ("B");


--
-- Name: _ProductToTransaction_AB_unique; Type: INDEX; Schema: public; Owner: zane
--

CREATE UNIQUE INDEX "_ProductToTransaction_AB_unique" ON public."_ProductToTransaction" USING btree ("A", "B");


--
-- Name: _ProductToTransaction_B_index; Type: INDEX; Schema: public; Owner: zane
--

CREATE INDEX "_ProductToTransaction_B_index" ON public."_ProductToTransaction" USING btree ("B");


--
-- Name: _PromoCodeToTransaction_AB_unique; Type: INDEX; Schema: public; Owner: zane
--

CREATE UNIQUE INDEX "_PromoCodeToTransaction_AB_unique" ON public."_PromoCodeToTransaction" USING btree ("A", "B");


--
-- Name: _PromoCodeToTransaction_B_index; Type: INDEX; Schema: public; Owner: zane
--

CREATE INDEX "_PromoCodeToTransaction_B_index" ON public."_PromoCodeToTransaction" USING btree ("B");


--
-- Name: Image Image_productId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Image"
    ADD CONSTRAINT "Image_productId_fkey" FOREIGN KEY ("productId") REFERENCES public."Product"(id) ON UPDATE CASCADE ON DELETE SET NULL;


--
-- Name: Payout Payout_productId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Payout"
    ADD CONSTRAINT "Payout_productId_fkey" FOREIGN KEY ("productId") REFERENCES public."Product"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: Payout Payout_transactionId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Payout"
    ADD CONSTRAINT "Payout_transactionId_fkey" FOREIGN KEY ("transactionId") REFERENCES public."Transaction"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: Payout Payout_userId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Payout"
    ADD CONSTRAINT "Payout_userId_fkey" FOREIGN KEY ("userId") REFERENCES public."User"(id) ON UPDATE CASCADE ON DELETE SET NULL;


--
-- Name: Product Product_fileId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Product"
    ADD CONSTRAINT "Product_fileId_fkey" FOREIGN KEY ("fileId") REFERENCES public."File"(id) ON UPDATE CASCADE ON DELETE SET NULL;


--
-- Name: Product Product_ownerId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Product"
    ADD CONSTRAINT "Product_ownerId_fkey" FOREIGN KEY ("ownerId") REFERENCES public."User"(id) ON UPDATE CASCADE ON DELETE SET NULL;


--
-- Name: PromoCode PromoCode_productId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."PromoCode"
    ADD CONSTRAINT "PromoCode_productId_fkey" FOREIGN KEY ("productId") REFERENCES public."Product"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: PromoCode PromoCode_userId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."PromoCode"
    ADD CONSTRAINT "PromoCode_userId_fkey" FOREIGN KEY ("userId") REFERENCES public."User"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: Review Review_authorId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Review"
    ADD CONSTRAINT "Review_authorId_fkey" FOREIGN KEY ("authorId") REFERENCES public."User"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: Review Review_productId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Review"
    ADD CONSTRAINT "Review_productId_fkey" FOREIGN KEY ("productId") REFERENCES public."Product"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: Tag Tag_creatorId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Tag"
    ADD CONSTRAINT "Tag_creatorId_fkey" FOREIGN KEY ("creatorId") REFERENCES public."User"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: Transaction Transaction_buyerId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Transaction"
    ADD CONSTRAINT "Transaction_buyerId_fkey" FOREIGN KEY ("buyerId") REFERENCES public."User"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: Withdraw Withdraw_userId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."Withdraw"
    ADD CONSTRAINT "Withdraw_userId_fkey" FOREIGN KEY ("userId") REFERENCES public."User"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: _ProductToTag _ProductToTag_A_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."_ProductToTag"
    ADD CONSTRAINT "_ProductToTag_A_fkey" FOREIGN KEY ("A") REFERENCES public."Product"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: _ProductToTag _ProductToTag_B_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."_ProductToTag"
    ADD CONSTRAINT "_ProductToTag_B_fkey" FOREIGN KEY ("B") REFERENCES public."Tag"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: _ProductToTransaction _ProductToTransaction_A_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."_ProductToTransaction"
    ADD CONSTRAINT "_ProductToTransaction_A_fkey" FOREIGN KEY ("A") REFERENCES public."Product"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: _ProductToTransaction _ProductToTransaction_B_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."_ProductToTransaction"
    ADD CONSTRAINT "_ProductToTransaction_B_fkey" FOREIGN KEY ("B") REFERENCES public."Transaction"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: _PromoCodeToTransaction _PromoCodeToTransaction_A_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."_PromoCodeToTransaction"
    ADD CONSTRAINT "_PromoCodeToTransaction_A_fkey" FOREIGN KEY ("A") REFERENCES public."PromoCode"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: _PromoCodeToTransaction _PromoCodeToTransaction_B_fkey; Type: FK CONSTRAINT; Schema: public; Owner: zane
--

ALTER TABLE ONLY public."_PromoCodeToTransaction"
    ADD CONSTRAINT "_PromoCodeToTransaction_B_fkey" FOREIGN KEY ("B") REFERENCES public."Transaction"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- PostgreSQL database dump complete
--

